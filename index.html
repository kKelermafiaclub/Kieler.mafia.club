<!doctype html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kiel Mafia Club</title>
    <style>
      /* ===== VARIABLES ===== */
      :root {
        --bg: #06070a;
        --bg2: #0b0f18;
        --card: rgba(255, 255, 255, 0.06);
        --card2: rgba(255, 255, 255, 0.09);
        --line: rgba(255, 255, 255, 0.12);
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.68);
        --gold: #d8b25a;
        --gold2: #f2d68a;
        --red: #ff3b3b;
        --r: 18px;
        --shadow: 0 18px 60px rgba(0, 0, 0, 0.55);
        --mono:
          ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        --sans:
          ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial,
          "Noto Sans", "Helvetica Neue", sans-serif;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
      }
      html,
      body {
        height: 100%;
      }
      body {
        color: var(--text);
        font-family: var(--sans);
        background:
          radial-gradient(
            1200px 700px at 18% 0%,
            rgba(216, 178, 90, 0.13),
            transparent 60%
          ),
          radial-gradient(
            1000px 700px at 92% 25%,
            rgba(255, 59, 59, 0.1),
            transparent 55%
          ),
          radial-gradient(
            900px 600px at 40% 105%,
            rgba(216, 178, 90, 0.1),
            transparent 55%
          ),
          linear-gradient(180deg, var(--bg), var(--bg2));
        overflow-x: hidden;
      }

      /* ===== GRAIN ===== */
      .grain {
        pointer-events: none;
        position: fixed;
        inset: 0;
        opacity: 0.13;
        mix-blend-mode: overlay;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
        background-size: 220px 220px;
        z-index: 9999;
      }

      /* ===== NEW: STICKY HEADER ===== */
      .site-header {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: rgba(6, 7, 10, 0.85);
        backdrop-filter: blur(18px);
        -webkit-backdrop-filter: blur(18px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        padding: 0 20px;
      }
      .header-inner {
        max-width: 1180px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 64px;
        gap: 16px;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: inherit;
        flex-shrink: 0;
      }
      .logo {
        width: 42px;
        height: 42px;
        border-radius: 14px;
        background:
          radial-gradient(
            circle at 30% 30%,
            rgba(242, 214, 138, 0.34),
            transparent 55%
          ),
          linear-gradient(
            135deg,
            rgba(216, 178, 90, 0.24),
            rgba(255, 255, 255, 0.06)
          );
        border: 1px solid rgba(216, 178, 90, 0.32);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
        display: grid;
        place-items: center;
        overflow: hidden;
      }
      .logo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 14px;
      }
      .logo-text {
        font-weight: 900;
        letter-spacing: 0.1em;
        color: var(--gold2);
        font-family: var(--mono);
        font-size: 14px;
      }
      .brand-text h1 {
        margin: 0;
        font-size: 15px;
        letter-spacing: 0.02em;
      }
      .brand-text p {
        margin: 2px 0 0;
        font-size: 11.5px;
        color: var(--muted);
      }
      .header-nav {
        display: flex;
        align-items: center;
        gap: 6px;
        flex-wrap: wrap;
        justify-content: center;
      }
      .nav-link {
        font-size: 13px;
        padding: 8px 14px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--muted);
        text-decoration: none;
        transition: all 0.2s ease;
        white-space: nowrap;
      }
      .nav-link:hover {
        color: var(--text);
        background: rgba(255, 255, 255, 0.12);
        border-color: rgba(255, 255, 255, 0.2);
      }
      .nav-link.accent {
        background: linear-gradient(
          135deg,
          rgba(216, 178, 90, 0.25),
          rgba(255, 255, 255, 0.06)
        );
        border-color: rgba(216, 178, 90, 0.35);
        color: var(--gold2);
      }
      .nav-link.accent:hover {
        background: linear-gradient(
          135deg,
          rgba(216, 178, 90, 0.35),
          rgba(255, 255, 255, 0.1)
        );
      }
      .header-socials {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-shrink: 0;
      }
      .social-pill {
        font-size: 12px;
        padding: 7px 12px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--muted);
        display: inline-flex;
        gap: 6px;
        align-items: center;
        text-decoration: none;
        transition: all 0.2s ease;
        white-space: nowrap;
      }
      .social-pill:hover {
        background: rgba(255, 255, 255, 0.12);
        color: var(--text);
      }
      .social-pill .dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: var(--gold);
        box-shadow: 0 0 14px rgba(216, 178, 90, 0.35);
      }
      .mobile-nav-toggle {
        display: none;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 10px;
        padding: 8px 12px;
        color: var(--text);
        cursor: pointer;
        font-size: 18px;
      }

      /* ===== WRAP ===== */
      .wrap {
        max-width: 1180px;
        margin: 0 auto;
        padding: 22px 14px 70px;
      }

      /* ===== NEW: HERO ===== */
      .hero {
        border-radius: calc(var(--r)+10px);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.04)
        );
        border: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: var(--shadow);
        overflow: hidden;
        position: relative;
        padding: 22px;
        isolation: isolate;
      }
      .hero::before {
        content: "";
        position: absolute;
        inset: -2px;
        background:
          radial-gradient(
            520px 260px at 18% 30%,
            rgba(216, 178, 90, 0.22),
            transparent 70%
          ),
          radial-gradient(
            740px 360px at 82% 45%,
            rgba(255, 59, 59, 0.18),
            transparent 70%
          );
        filter: blur(7px);
        opacity: 0.95;
        pointer-events: none;
        z-index: -1;
      }
      .heroGrid {
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 16px;
        align-items: center;
        position: relative;
        z-index: 2;
      }
      .kicker {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-family: var(--mono);
        letter-spacing: 0.14em;
        text-transform: uppercase;
        font-size: 12px;
        color: rgba(255, 255, 255, 0.78);
      }
      .kicker .mark {
        width: 34px;
        height: 1px;
        background: rgba(216, 178, 90, 0.8);
        box-shadow: 0 0 18px rgba(216, 178, 90, 0.35);
      }
      .hero h2 {
        margin: 12px 0 10px;
        font-size: 42px;
        line-height: 1.05;
        letter-spacing: -0.03em;
        text-transform: uppercase;
      }
      .hero h2 span {
        background: linear-gradient(90deg, var(--gold2), #fff);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }
      .hero p {
        margin: 0;
        color: rgba(255, 255, 255, 0.8);
        max-width: 78ch;
        font-size: 15px;
        line-height: 1.6;
      }
      .chips {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 14px;
      }
      .chip {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.2);
        padding: 7px 10px;
        border-radius: 999px;
        font-size: 12.5px;
        color: rgba(255, 255, 255, 0.78);
      }
      .chip b {
        color: rgba(255, 255, 255, 0.92);
      }
      .chip .c {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: var(--gold);
      }
      .chip .c.red {
        background: var(--red);
      }

      /* Mafia animation */
      .hero-visual {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        min-height: 300px;
      }
      .mafia-scene {
        position: relative;
        width: 100%;
        max-width: 360px;
        height: 320px;
      }
      .mafia-scene .glow-circle {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 220px;
        height: 220px;
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(216, 178, 90, 0.2),
          transparent 70%
        );
        border: 1px solid rgba(216, 178, 90, 0.15);
        animation: pulse-glow 3s ease-in-out infinite;
      }
      @keyframes pulse-glow {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1);
          opacity: 0.7;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.08);
          opacity: 1;
        }
      }
      .mafia-scene .crosshair {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 160px;
        height: 160px;
        border: 2px solid rgba(255, 59, 59, 0.25);
        border-radius: 50%;
        animation: rotate-crosshair 12s linear infinite;
      }
      .mafia-scene .crosshair::before,
      .mafia-scene .crosshair::after {
        content: "";
        position: absolute;
        background: rgba(255, 59, 59, 0.3);
      }
      .mafia-scene .crosshair::before {
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
      }
      .mafia-scene .crosshair::after {
        left: 50%;
        top: 0;
        bottom: 0;
        width: 1px;
      }
      @keyframes rotate-crosshair {
        from {
          transform: translate(-50%, -50%) rotate(0deg);
        }
        to {
          transform: translate(-50%, -50%) rotate(360deg);
        }
      }
      .silhouette {
        position: absolute;
        bottom: 30px;
        font-size: 80px;
        filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.8));
        animation: float-silhouette 4s ease-in-out infinite;
        user-select: none;
      }
      .silhouette:nth-child(3) {
        left: 20%;
        animation-delay: 0s;
      }
      .silhouette:nth-child(4) {
        left: 45%;
        animation-delay: 0.6s;
        font-size: 90px;
      }
      .silhouette:nth-child(5) {
        left: 70%;
        animation-delay: 1.2s;
      }
      @keyframes float-silhouette {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      .floating-card {
        position: absolute;
        width: 40px;
        height: 56px;
        border-radius: 6px;
        border: 1px solid rgba(216, 178, 90, 0.3);
        background: linear-gradient(
          135deg,
          rgba(216, 178, 90, 0.15),
          rgba(0, 0, 0, 0.4)
        );
        display: grid;
        place-items: center;
        font-size: 20px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
        animation: float-card 5s ease-in-out infinite;
      }
      .floating-card:nth-child(6) {
        top: 15%;
        right: 10%;
        animation-delay: 0s;
      }
      .floating-card:nth-child(7) {
        top: 10%;
        left: 8%;
        animation-delay: 1.5s;
      }
      .floating-card:nth-child(8) {
        bottom: 15%;
        right: 5%;
        animation-delay: 3s;
      }
      @keyframes float-card {
        0%,
        100% {
          transform: translateY(0) rotate(-5deg);
        }
        50% {
          transform: translateY(-12px) rotate(5deg);
        }
      }
      .scene-title {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-family: var(--mono);
        font-size: 28px;
        font-weight: 900;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.08);
        white-space: nowrap;
        pointer-events: none;
      }

      /* ===== NEW: ABOUT ===== */
      .about-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin-top: 12px;
      }
      .stat-box {
        padding: 14px;
        border-radius: 14px;
        background: rgba(0, 0, 0, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
      }
      .stat-num {
        font-size: 24px;
        font-family: var(--mono);
        color: var(--gold2);
      }
      .stat-lbl {
        font-size: 12px;
        color: var(--muted);
        margin-top: 4px;
      }

      /* ===== NEW: RULES ===== */
      .rules-list {
        list-style: none;
        padding: 0;
        margin: 12px 0 0;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .rules-list li {
        padding: 14px;
        border-radius: 14px;
        background: rgba(0, 0, 0, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.1);
        font-size: 14px;
        line-height: 1.55;
        display: flex;
        gap: 12px;
        align-items: flex-start;
      }
      .rule-num {
        font-family: var(--mono);
        font-size: 13px;
        color: var(--gold2);
        min-width: 28px;
        font-weight: 700;
      }

      /* ===== ORIGINAL: SHARED ===== */
      .section {
        margin-top: 12px;
      }
      .card {
        border-radius: var(--r);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);
        padding: 16px;
      }
      .card h3 {
        margin: 0 0 10px;
        font-size: 16px;
      }
      .sub {
        color: var(--muted);
        font-size: 13px;
        line-height: 1.55;
        margin: 0 0 12px;
      }
      .split {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }
      .grid {
        margin-top: 14px;
        display: grid;
        grid-template-columns: 1.25fr 0.75fr;
        gap: 12px;
      }

      /* Buttons */
      .btn {
        appearance: none;
        border: none;
        cursor: pointer;
        padding: 12px 14px;
        border-radius: 14px;
        color: var(--text);
        background: rgba(255, 255, 255, 0.07);
        border: 1px solid rgba(255, 255, 255, 0.14);
        text-decoration: none;
        display: inline-flex;
        gap: 10px;
        align-items: center;
        transition:
          transform 0.1s ease,
          background 0.1s ease,
          border-color 0.1s ease;
        font-size: 14px;
        user-select: none;
      }
      .btn:hover {
        transform: translateY(-1px);
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.22);
      }
      .btn.primary {
        background: linear-gradient(
          135deg,
          rgba(216, 178, 90, 0.3),
          rgba(255, 255, 255, 0.08)
        );
        border-color: rgba(216, 178, 90, 0.38);
      }
      .btn.red {
        background: linear-gradient(
          135deg,
          rgba(255, 59, 59, 0.22),
          rgba(255, 255, 255, 0.06)
        );
        border-color: rgba(255, 59, 59, 0.35);
      }
      .btn.red:hover {
        background: linear-gradient(
          135deg,
          rgba(255, 59, 59, 0.28),
          rgba(255, 255, 255, 0.08)
        );
      }
      .mini {
        padding: 10px 12px;
        border-radius: 12px;
        font-size: 13px;
      }
      .ctas {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 16px;
      }

      /* Events */
      .events {
        display: grid;
        gap: 10px;
      }
      .event {
        padding: 14px;
        border-radius: 16px;
        background: rgba(0, 0, 0, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.1);
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 10px;
        align-items: center;
      }
      .event strong {
        font-size: 14px;
      }
      .event .meta {
        margin-top: 6px;
        color: var(--muted);
        font-size: 12.5px;
        line-height: 1.45;
      }
      .event .actions {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        justify-content: flex-end;
      }
      .badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-family: var(--mono);
        font-size: 11px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.82);
        border: 1px solid rgba(216, 178, 90, 0.34);
        background: rgba(216, 178, 90, 0.1);
        padding: 8px 10px;
        border-radius: 999px;
        white-space: nowrap;
      }
      .badge.red {
        border-color: rgba(255, 59, 59, 0.4);
        background: rgba(255, 59, 59, 0.1);
      }
      .dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: var(--gold);
        box-shadow: 0 0 14px rgba(216, 178, 90, 0.35);
      }
      .dot.red {
        background: var(--red);
        box-shadow: 0 0 14px rgba(255, 59, 59, 0.35);
      }
      .pill {
        font-size: 12px;
        padding: 8px 10px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: var(--muted);
        display: inline-flex;
        gap: 8px;
        align-items: center;
      }

      /* Countdown */
      .countwrap {
        display: grid;
        gap: 10px;
        padding: 14px;
        border-radius: 16px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.05)
        );
        border: 1px solid rgba(255, 255, 255, 0.12);
      }
      .counttitle {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        align-items: center;
      }
      .counttitle span {
        color: var(--muted);
        font-size: 12.5px;
      }
      .count {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .unit {
        min-width: 72px;
        padding: 12px;
        border-radius: 14px;
        background: rgba(0, 0, 0, 0.25);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .num {
        font-size: 20px;
        font-family: var(--mono);
        color: var(--gold2);
      }
      .lbl {
        font-size: 12px;
        color: var(--muted);
        margin-top: 4px;
      }

      /* Role boxes */
      .rolebox {
        display: grid;
        gap: 10px;
        padding: 14px;
        border-radius: 16px;
        background: rgba(0, 0, 0, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .role {
        font-family: var(--mono);
        font-size: 16px;
        letter-spacing: 0.02em;
        color: var(--gold2);
        line-height: 1.35;
      }
      .small {
        font-size: 12.5px;
        color: var(--muted);
        line-height: 1.5;
        margin: 0;
      }

      /* Tabs */
      .tabs {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin: 10px 0 0;
      }
      .tab {
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.06);
        color: var(--muted);
        border-radius: 999px;
        padding: 8px 10px;
        font-size: 12.5px;
        cursor: pointer;
      }
      .tab[aria-selected="true"] {
        color: var(--text);
        border-color: rgba(216, 178, 90, 0.35);
        background: rgba(216, 178, 90, 0.1);
      }
      .panel {
        display: none;
      }
      .panel.active {
        display: block;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th,
      td {
        padding: 10px 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        text-align: left;
        font-size: 13.5px;
      }
      th {
        color: rgba(255, 255, 255, 0.78);
        font-family: var(--mono);
        font-size: 12px;
        letter-spacing: 0.1em;
        text-transform: uppercase;
      }
      .pill2 {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.22);
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 12px;
        color: var(--muted);
      }

      /* Instagram grid */
      .iggrid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }
      .igcard {
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.25);
        position: relative;
      }
      .igcard .top {
        padding: 10px 12px;
        display: flex;
        justify-content: space-between;
        gap: 10px;
        align-items: center;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(0, 0, 0, 0.22);
      }
      .igcard .top b {
        font-size: 12.5px;
        color: rgba(255, 255, 255, 0.86);
      }
      .igcard .top span {
        font-size: 12px;
        color: var(--muted);
      }
      .igcard .body {
        padding: 12px;
      }
      .igfallback {
        padding: 14px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: rgba(255, 255, 255, 0.82);
        font-size: 13px;
        line-height: 1.55;
      }
      .yt {
        aspect-ratio: 16/9;
        width: 100%;
        border: 0;
        border-radius: 16px;
        background: #000;
      }

      /* ===== MAP NOIR BLOCK ===== */
      .mafia-noir-card {
        background-color: #111;
        border: 1px solid #333;
        border-radius: 4px;
        padding: 30px;
        max-width: 600px;
        margin: 20px auto;
        text-align: center;
        color: #eee;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.8);
      }
      .noir-header {
        margin-bottom: 25px;
      }
      .noir-header h2 {
        margin: 0;
        font-size: 1.5rem;
        letter-spacing: 3px;
        text-transform: uppercase;
      }
      .noir-header h3 {
        margin: 5px 0 0;
        font-size: 1rem;
        color: #d32f2f;
        letter-spacing: 2px;
      }
      .noir-highlight {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 4px;
        color: #888;
      }
      .noir-address {
        margin-bottom: 20px;
      }
      .noir-address p {
        margin: 0;
        font-size: 0.9rem;
        color: #888;
      }
      .noir-address strong {
        display: block;
        font-size: 1.1rem;
        margin-top: 5px;
        color: #fff;
      }
      .noir-map-container {
        position: relative;
        width: 100%;
        height: 300px;
        overflow: hidden;
        margin-bottom: 20px;
        border: 1px solid #333;
        border-radius: 4px;
      }
      .mafia-noir-card iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        filter: grayscale(100%) invert(100%) brightness(85%) contrast(90%);
      }
      .noir-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        pointer-events: none;
      }
      .noir-btn {
        display: inline-block;
        background-color: transparent;
        border: 2px solid #d32f2f;
        color: #d32f2f;
        padding: 12px 30px;
        text-decoration: none;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s;
      }
      .noir-btn:hover {
        background-color: #d32f2f;
        color: #fff;
        box-shadow: 0 0 15px rgba(211, 47, 47, 0.4);
      }
      .mafia-character-pin {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 70px;
        filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.9));
        pointer-events: none;
        animation: bounce 3s infinite ease-in-out;
        z-index: 10;
      }
      @keyframes bounce {
        0%,
        100% {
          transform: translateX(-50%) translateY(0);
        }
        50% {
          transform: translateX(-50%) translateY(-10px);
        }
      }

      /* ===== RATING CARDS ===== */
      .mafia-rating-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 15px;
      }
      .rating-card {
        background-color: #1a1a1a;
        border: 1px solid #333;
        border-radius: 8px;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        position: relative;
        overflow: hidden;
      }
      .rating-card:hover {
        transform: translateX(5px);
        border-color: #444;
        background-color: #222;
      }
      .rating-card.top-don {
        border: 1px solid #d32f2f;
        background: linear-gradient(
          90deg,
          rgba(30, 0, 0, 1),
          rgba(20, 20, 20, 1)
        );
      }
      .rating-card.top-don::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 4px;
        height: 100%;
        background: #d32f2f;
      }
      .card-rank {
        font-family: "Courier New", Courier, monospace;
        font-size: 1.2rem;
        font-weight: bold;
        color: #555;
        min-width: 30px;
        text-align: center;
        margin-right: 15px;
      }
      .card-info {
        flex-grow: 1;
      }
      .card-name {
        font-weight: bold;
        color: #fff;
        font-size: 1rem;
        display: block;
      }
      .card-stats {
        font-size: 0.75rem;
        color: #888;
        margin-top: 2px;
      }
      .card-score {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        width: 120px;
      }
      .score-value {
        font-size: 1.1rem;
        color: #d32f2f;
        font-weight: bold;
        margin-bottom: 4px;
      }
      .score-bar-bg {
        width: 100%;
        height: 6px;
        background-color: #333;
        border-radius: 3px;
        overflow: hidden;
      }
      .score-bar-fill {
        height: 100%;
        background: linear-gradient(90deg, #d32f2f, #ff6e40);
        width: 0%;
        border-radius: 3px;
        transition: width 1s ease-out;
      }

      /* ===== TIMELINE ===== */
      .mafia-timeline {
        position: relative;
        padding-left: 30px;
        margin-top: 20px;
        border-left: 2px solid #333;
      }
      .event-card {
        background-color: #1a1a1a;
        border: 1px solid #333;
        border-radius: 6px;
        padding: 15px;
        margin-bottom: 25px;
        position: relative;
        transition: transform 0.2s;
      }
      .event-card:hover {
        transform: translateX(5px);
        border-color: #555;
      }
      .event-card::before {
        content: "";
        position: absolute;
        left: -37px;
        top: 20px;
        width: 12px;
        height: 12px;
        background-color: #d32f2f;
        border-radius: 50%;
        border: 2px solid #1a1a1a;
        box-shadow: 0 0 10px rgba(211, 47, 47, 0.5);
      }
      .event-date {
        font-family: "Courier New", Courier, monospace;
        color: #d32f2f;
        font-weight: bold;
        font-size: 0.85rem;
        margin-bottom: 5px;
        display: block;
      }
      .event-title {
        font-size: 1rem;
        color: #fff;
        font-weight: bold;
        margin-bottom: 8px;
      }
      .event-details {
        display: flex;
        gap: 15px;
        font-size: 0.8rem;
        color: #888;
      }

      /* ===== FOOTER ===== */
      footer {
        margin-top: 16px;
        color: var(--muted);
        font-size: 12.5px;
        line-height: 1.6;
        text-align: center;
      }
      footer a {
        color: rgba(255, 255, 255, 0.78);
      }
      .sep {
        opacity: 0.35;
        padding: 0 8px;
      }

      /* ===== RESPONSIVE ===== */
      @media (max-width: 980px) {
        .heroGrid {
          grid-template-columns: 1fr;
        }
        .hero-visual {
          min-height: 250px;
        }
        .grid {
          grid-template-columns: 1fr;
        }
        .split {
          grid-template-columns: 1fr;
        }
        .about-grid {
          grid-template-columns: 1fr;
        }
        .header-nav {
          display: none;
        }
        .mobile-nav-toggle {
          display: block;
        }
        .header-nav.open {
          display: flex;
          position: absolute;
          top: 64px;
          left: 0;
          right: 0;
          background: rgba(6, 7, 10, 0.95);
          backdrop-filter: blur(18px);
          padding: 14px 20px;
          border-bottom: 1px solid rgba(255, 255, 255, 0.08);
          flex-direction: column;
          align-items: stretch;
        }
        .header-nav.open .nav-link {
          text-align: center;
        }
      }
      @media (max-width: 900px) {
        .iggrid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 680px) {
        .header-inner {
          height: auto;
          padding: 10px 0;
          flex-wrap: wrap;
          justify-content: center;
        }
        .hero h2 {
          font-size: 28px;
        }
        .mafia-scene {
          height: 240px;
        }
      }
      @media (max-width: 520px) {
        .iggrid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="grain"></div>

    <!-- ============================================================ -->
    <!-- ================ NEW: STICKY HEADER ======================== -->
    <!-- ============================================================ -->
    <header class="site-header">
      <div class="header-inner">
        <a href="#" class="brand">
          <div class="logo">
            <!-- –ó–∞–º—ñ–Ω–∏ –Ω–∞: <img src="your-logo.png" alt="Kiel Mafia"> -->
            <span class="logo-text">KM</span>
          </div>
          <div class="brand-text">
            <h1>Kiel Mafia Club</h1>
            <p>–ú–∞—Ñ—ñ—è –≤ –ö—ñ–ª—ñ</p>
          </div>
        </a>
        <button
          class="mobile-nav-toggle"
          onclick="
            document.querySelector('.header-nav').classList.toggle('open')
          "
        >
          ‚ò∞
        </button>
        <nav class="header-nav">
          <a href="#about" class="nav-link">–ü—Ä–æ –∫–ª—É–±</a>
          <a href="#rules" class="nav-link">–ü—Ä–∞–≤–∏–ª–∞</a>
          <a href="#announcements" class="nav-link">–Ü–≥—Ä–∏</a>
          <a href="#hub" class="nav-link">–†–µ–π—Ç–∏–Ω–≥</a>
          <a href="#photos" class="nav-link">–§–æ—Ç–æ</a>
          <a href="#" class="nav-link accent" id="btnSignup">üïµÔ∏è –ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</a>
        </nav>
        <div class="header-socials">
          <a
            href="https://t.me/kieler_mafia"
            target="_blank"
            class="social-pill"
            ><span class="dot"></span> Telegram</a
          >
          <a
            href="https://instagram.com/kieler.mafia.club"
            target="_blank"
            class="social-pill"
          >
            <span
              class="dot"
              style="
                background: var(--red);
                box-shadow: 0 0 14px rgba(255, 59, 59, 0.35);
              "
            ></span>
            Instagram</a
          >
          <span class="social-pill">üìç Kiel</span>
        </div>
      </div>
    </header>

    <div class="wrap">
      <!-- ============================================================ -->
      <!-- ================ NEW: HERO ================================= -->
      <!-- ============================================================ -->
      <section class="hero">
        <div class="heroGrid">
          <div>
            <div class="kicker"><span class="mark"></span> –ö–ª—É–± –º–∞—Ñ—ñ—ó</div>
            <h2><span>Kiel Mafia</span><br />Club</h2>
            <p>
              –ü—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ –Ω–∞–π–∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ñ—à–∏—Ö —ñ–≥–æ—Ä —É –º–∞—Ñ—ñ—é –≤ –ö—ñ–ª—ñ. –°—Ç—Ä–∞—Ç–µ–≥—ñ—è,
              —ñ–Ω—Ç—Ä–∏–≥–∏, –µ–º–æ—Ü—ñ—ó ‚Äî –≤—Å–µ —Ü–µ —á–µ–∫–∞—î –Ω–∞ —Ç–µ–±–µ —â–æ–ø'—è—Ç–Ω–∏—Ü—ñ.
            </p>
            <div class="chips">
              <div class="chip">
                <span class="c"></span> <b>–ü'—è—Ç–Ω–∏—Ü—è</b> 18:30
              </div>

              <div class="chip"><span class="c"></span> –î–ª—è –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—ñ–≤</div>
            </div>
          </div>
          <div class="hero-visual">
            <div class="mafia-scene">
              <div class="glow-circle"></div>
              <div class="crosshair"></div>
              <div class="silhouette">üï¥Ô∏è</div>
              <div class="silhouette">üï¥Ô∏è</div>
              <div class="silhouette">üï¥Ô∏è</div>
              <div class="floating-card">üÉè</div>
              <div class="floating-card">‚ô†</div>
              <div class="floating-card">‚ô¶</div>
              <span class="scene-title">MAFIA</span>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================ -->
      <!-- ================ NEW: –ü–†–û –ö–õ–£–ë ============================= -->
      <!-- ============================================================ -->
      <section class="section" id="about" style="scroll-margin-top: 80px">
        <div class="about-grid">
          <div class="card">
            <h3>üé≠ –ü—Ä–æ –∫–ª—É–±</h3>
            <p class="sub">
              –ú–∏ –≥—Ä–∞—î–º–æ –≤ –∫–ª–∞—Å–∏—á–Ω—É –º–∞—Ñ—ñ—é —â–æ–ø'—è—Ç–Ω–∏—Ü—ñ –≤ –ö—ñ–ª—ñ. –ù–æ–≤–∞—á–∫–∞–º ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π
              –º–∞–π—Å—Ç–µ—Ä-–∫–ª–∞—Å. –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ "—è–∫ –Ω–∞ –∞—Ñ—ñ—à—ñ": —Ç–µ–º–∏, –¥—Ä–µ—Å-–∫–æ–¥, —Ñ–æ—Ç–æ/–≤—ñ–¥–µ–æ
              —Ç–∞ —Ç—É—Ä–Ω—ñ—Ä–Ω—ñ –≤–µ—á–æ—Ä–∏.
            </p>
            <div class="chips">
              <span class="chip"
                ><span class="c"></span> –õ–æ–∫–∞—Ü—ñ—è: <b>Brahmsweg 17</b></span
              >
              <span class="chip"
                ><span class="c"></span> –ú—ñ—Å—Ç–æ: <b>Kiel</b></span
              >
              <span class="chip"
                ><span class="c red"></span> Telegram:
                <b>@kieler_mafia</b></span
              >
            </div>
            <div style="height: 10px"></div>
            <p class="sub" style="margin: 0">
              <b>–Ø–∫ –∑–∞–ø–∏—Å–∞—Ç–∏—Å—è:</b> –Ω–∞—Ç–∏—Å–Ω–∏ "–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è" –∞–±–æ –Ω–∞–ø–∏—à–∏ –≤ Telegram /
              Instagram. –£ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ –≤–∫–∞–∂–∏:
              <i>–¥–∞—Ç–∞/—Ç–µ–º–∞, —ñ–º'—è, —Å–∫—ñ–ª—å–∫–∏ –ª—é–¥–µ–π</i>.
            </p>
            <div class="ctas" style="margin-top: 12px">
              <a
                class="btn mini"
                href="https://t.me/kieler_mafia"
                target="_blank"
                >üì£ Telegram –∫–∞–Ω–∞–ª</a
              >
              <a
                class="btn mini"
                href="https://t.me/ksenyashvets19"
                target="_blank"
                >üí¨ @ksenyashvets19</a
              >
              <a
                class="btn mini"
                href="https://t.me/OksanaKolivanova"
                target="_blank"
                >üí¨ @OksanaKolivanova</a
              >
            </div>
          </div>
          <div class="card">
            <h3>üìä –ö–ª—É–± —É —Ü–∏—Ñ—Ä–∞—Ö</h3>
            <div
              style="
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                margin-top: 10px;
              "
            >
              <div class="stat-box">
                <div class="stat-num">50+</div>
                <div class="stat-lbl">–ê–∫—Ç–∏–≤–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤</div>
              </div>
              <div class="stat-box">
                <div class="stat-num">100+</div>
                <div class="stat-lbl">–Ü–≥–æ—Ä –ø—Ä–æ–≤–µ–¥–µ–Ω–æ</div>
              </div>
              <div class="stat-box">
                <div class="stat-num">12</div>
                <div class="stat-lbl">–¢—É—Ä–Ω—ñ—Ä—ñ–≤</div>
              </div>
              <div class="stat-box">
                <div class="stat-num">üèÜ</div>
                <div class="stat-lbl">–†–µ–π—Ç–∏–Ω–≥ —Å–µ–∑–æ–Ω—É</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================================ -->
      <!-- ================ NEW: –ü–†–ê–í–ò–õ–ê ============================== -->
      <!-- ============================================================ -->
      <section class="section" id="rules" style="scroll-margin-top: 80px">
        <div class="card">
          <h3>üìú –ü—Ä–∞–≤–∏–ª–∞ / FAQ</h3>
          <p class="sub">
            –ö–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ —Ñ–æ—Ä–º–∞—Ç. –í–µ–¥—É—á–∏–π –ø–æ—è—Å–Ω–∏—Ç—å –¥–µ—Ç–∞–ª—ñ –Ω–∞ –º—ñ—Å—Ü—ñ.
          </p>
          <ul class="rules-list">
            <li>
              <span class="rule-num">01</span> <b>17:30</b> ‚Äî –º—ñ–Ω—ñ-–Ω–∞–≤—á–∞–Ω–Ω—è –¥–ª—è
              –Ω–æ–≤–∞—á–∫—ñ–≤
            </li>
            <li>
              <span class="rule-num">02</span> <b>18:30</b> ‚Äî —ñ–≥—Ä–∏ (–≤–µ–¥—É—á–∏–π
              –∫–µ—Ä—É—î –ø—Ä–æ—Ü–µ—Å–æ–º)
            </li>
            <li>
              <span class="rule-num">03</span> <b>–î—Ä–µ—Å-–∫–æ–¥</b> —ñ–Ω–∫–æ–ª–∏ —Ç–µ–º–∞—Ç–∏—á–Ω–∏–π
              (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ Total Black)
            </li>
            <li>
              <span class="rule-num">04</span> <b>–í–≤—ñ—á–ª–∏–≤—ñ—Å—Ç—å</b> —ñ –ø–æ–≤–∞–≥–∞ ‚Äî
              must
            </li>
            <li>
              <span class="rule-num">05</span> –ù–µ —Ä–æ–∑–∫—Ä–∏–≤–∞–π —Å–≤–æ—é —Ä–æ–ª—å –¥–æ –∫—ñ–Ω—Ü—è
              –≥—Ä–∏
            </li>
            <li>
              <span class="rule-num">06</span> –†—ñ—à–µ–Ω–Ω—è –≤–µ–¥—É—á–æ–≥–æ —î –æ—Å—Ç–∞—Ç–æ—á–Ω–∏–º
            </li>
          </ul>
        </div>
      </section>

      <!-- ============================================================ -->
      <!-- ========== ORIGINAL FROM HERE: EVENTS + FUN ================ -->
      <!-- ============================================================ -->
      <section
        class="grid section"
        id="announcements"
        style="scroll-margin-top: 80px"
      >
        <div class="card">
          <h3>üóì –ù–∞–π–±–ª–∏–∂—á—ñ —ñ–≥—Ä–∏</h3>
          <p class="sub">
            –†–µ—î—Å—Ç—Ä—É–π—Å—è —á–µ—Ä–µ–∑ Telegram –∞–±–æ DM. –ö—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—Ü—å –æ–±–º–µ–∂–µ–Ω–∞.
          </p>
          <div class="events" id="events"></div>
        </div>

        <div style="display: grid; gap: 12px">
          <div class="card">
            <div class="countwrap">
              <div class="counttitle">
                <h3 style="font-size: 15px" id="nextLabel">–ù–∞—Å—Ç—É–ø–Ω–∞ –≥—Ä–∞</h3>
                <span id="nextMeta">‚Äî</span>
              </div>
              <div class="count">
                <div class="unit">
                  <div class="num" id="d">--</div>
                  <div class="lbl">–¥–Ω—ñ–≤</div>
                </div>
                <div class="unit">
                  <div class="num" id="h">--</div>
                  <div class="lbl">–≥–æ–¥–∏–Ω</div>
                </div>
                <div class="unit">
                  <div class="num" id="m">--</div>
                  <div class="lbl">—Ö–≤–∏–ª–∏–Ω</div>
                </div>
                <div class="unit">
                  <div class="num" id="s">--</div>
                  <div class="lbl">—Å–µ–∫—É–Ω–¥</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <h3>–•—Ç–æ —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ? üé≠</h3>
            <div class="rolebox">
              <div class="role" id="role">–ù–∞—Ç–∏—Å–Ω–∏ "–í–∏–ø–∞–¥–∫–æ–≤–∞ —Ä–æ–ª—å"</div>
              <p class="small">
                –§–∞–Ω–æ–≤–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∏ (–Ω–µ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Ä–æ–∑–ø–æ–¥—ñ–ª —Ä–æ–ª–µ–π
                üòâ).
              </p>
              <button class="btn mini" id="btnRole" type="button">
                üé≤ –í–∏–ø–∞–¥–∫–æ–≤–∞ —Ä–æ–ª—å
              </button>
            </div>
            <div style="height: 14px"></div>
            <h3>–ê–ª—ñ–±—ñ —Ç–∞ —Ü–∏—Ç–∞—Ç–∞ –¥–Ω—è üñ§</h3>
            <div class="rolebox">
              <div class="role" id="alibiText">–ù–∞—Ç–∏—Å–Ω–∏ "–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∞–ª—ñ–±—ñ"</div>
              <button class="btn mini" id="btnAlibi" type="button">
                üßæ –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∞–ª—ñ–±—ñ
              </button>
              <div style="height: 14px"></div>
              <div class="role" id="quoteText">–ù–∞—Ç–∏—Å–Ω–∏ "–¶–∏—Ç–∞—Ç–∞ –¥–Ω—è"</div>
              <button class="btn mini" id="btnQuote" type="button">
                üñ§ –¶–∏—Ç–∞—Ç–∞ –¥–Ω—è
              </button>
              <p class="small" style="margin-top: 8px">
                –ú–æ–∂–Ω–∞ —é–∑–∞—Ç–∏ —è–∫ "—Å–ª–æ–≤–æ –≤–µ–¥—É—á–æ–≥–æ" –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º –≥—Ä–∏ üòÑ
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== ORIGINAL: INSTAGRAM ===== -->
      <section class="card section" id="photos" style="scroll-margin-top: 80px">
        <h3>–§–æ—Ç–æ / –ø–æ—Å—Ç–∏ –∑ Instagram</h3>
        <p class="sub">
          –¢—É—Ç –ø—ñ–¥—Ç—è–≥—É—é—Ç—å—Å—è –ø–æ—Å—Ç–∏ —è–∫ "–ø–ª–∏—Ç–∫–∏". –Ø–∫—â–æ embed –Ω–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è ‚Äî
          –Ω–∞—Ç–∏—Å–Ω–∏ "–í—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ—Å—Ç".
        </p>
        <div class="iggrid" id="iggrid"></div>
      </section>

      <!-- ===== ORIGINAL: MAP NOIR ===== -->
      <div class="mafia-noir-card">
        <div class="noir-header">
          <span class="noir-highlight">–¢–∏—à–∞.</span>
          <h2>–ú–Ü–°–¢–û –ó–ê–°–ò–ù–ê–Ñ.</h2>
          <h3>–ê–õ–ï –ú–ê–§–Ü–Ø –ü–†–û–ö–ò–î–ê–Ñ–¢–¨–°–Ø</h3>
        </div>
        <div class="noir-address">
          <p>–¢–≤–æ—è —Ç–æ—á–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—ñ:</p>
          <strong>Brahmsweg 17, 24159 Kiel</strong>
        </div>
        <div class="noir-map-container">
          <iframe
            width="100%"
            height="300"
            frameborder="0"
            style="border: 0"
            allowfullscreen
            loading="lazy"
            src="https://maps.google.com/maps?q=Brahmsweg+17,+24159+Kiel&t=&z=15&ie=UTF8&iwloc=&output=embed"
          ></iframe>
          <div class="noir-overlay"></div>
          <div class="mafia-character-pin">üï¥Ô∏è</div>
        </div>
        <div class="noir-action">
          <a
            href="https://maps.google.com/?q=Brahmsweg+17+Kiel"
            target="_blank"
            class="noir-btn"
            >–ü–û–ú–Ü–ß–ï–ù–û –ù–ê –ö–ê–†–¢–Ü</a
          >
        </div>
      </div>

      <!-- ===== ORIGINAL: HUB ===== -->
      <section class="card section" id="hub" style="scroll-margin-top: 80px">
        <div
          style="
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
          "
        >
          <h3 style="margin: 0">–ö–ª—É–±–Ω–∏–π Hub</h3>
          <div style="display: flex; gap: 8px; flex-wrap: wrap">
            <a class="btn mini" href="#announcements">üìÖ –ê–Ω–æ–Ω—Å–∏</a>
            <a class="btn mini" href="#media">üé¨ –í—ñ–¥–µ–æ</a>
          </div>
        </div>
        <div class="tabs" role="tablist">
          <button class="tab" role="tab" aria-selected="true" data-tab="rank">
            –†–µ–π—Ç–∏–Ω–≥
          </button>
          <button class="tab" role="tab" aria-selected="false" data-tab="tours">
            –¢—É—Ä–Ω—ñ—Ä–∏
          </button>
          <button
            class="tab"
            role="tab"
            aria-selected="false"
            data-tab="players"
          >
            –ì—Ä–∞–≤—Ü—ñ
          </button>
          <button class="tab" role="tab" aria-selected="false" data-tab="bday">
            –î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è
          </button>
        </div>
        <div class="panel active" id="rank" role="tabpanel">
          <p class="sub">
            –†–µ–π—Ç–∏–Ω–≥ —Ä–∞—Ö—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ —Ç—É—Ä–Ω—ñ—Ä–∞—Ö –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä–æ–∫—É.
          </p>
          <div id="rankTable"></div>
        </div>
        <div class="panel" id="tours" role="tabpanel">
          <div id="tournaments"></div>
        </div>
        <div class="panel" id="players" role="tabpanel">
          <p class="sub">
            –ö–ª—ñ–∫–Ω–∏ –Ω–∞ –≥—Ä–∞–≤—Ü—è ‚Äî –ø–æ–∫–∞–∂–µ–º–æ —É—á–∞—Å—Ç—å —É —Ç—É—Ä–Ω—ñ—Ä–∞—Ö —Ü—å–æ–≥–æ —Ä–æ–∫—É —Ç–∞ –ø—Ä–∏–∑–æ–≤—ñ.
          </p>
          <div
            style="display: grid; grid-template-columns: 1.1fr 0.9fr; gap: 12px"
          >
            <div
              class="card"
              style="box-shadow: none; border-color: rgba(255, 255, 255, 0.1)"
            >
              <table id="playersTable"></table>
            </div>
            <div
              class="card"
              style="box-shadow: none; border-color: rgba(255, 255, 255, 0.1)"
            >
              <h3 style="margin: 0 0 8px; font-size: 15px" id="pTitle">
                –û–±–µ—Ä–∏ –≥—Ä–∞–≤—Ü—è
              </h3>
              <div class="sub" id="pBody">
                –ü–æ–∫–∞–∂–µ–º–æ —Ç—É—Ä–Ω—ñ—Ä–∏, –º—ñ—Å—Ü—è —Ç–∞ –ø—Ä–∏–∑–æ–≤—ñ –∑–∞ –ø–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–∫.
              </div>
            </div>
          </div>
        </div>
        <div class="panel" id="bday" role="tabpanel">
          <p class="sub">–ù–∞–π–±–ª–∏–∂—á—ñ –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è ‚Äî –∑–≤–µ—Ä—Ö—É.</p>
          <table id="bdayTable"></table>
        </div>
      </section>

      <!-- ===== ORIGINAL: MEDIA ===== -->
      <section class="card section" id="media" style="scroll-margin-top: 80px">
        <h3>–í—ñ–¥–µ–æ / –º–µ–¥—ñ–∞</h3>
        <p class="sub">
          YouTube –º–æ–∂–Ω–∞ –≤–±—É–¥—É–≤–∞—Ç–∏, –∞ Reels/–ø–æ—Å—Ç–∏ ‚Äî —è–∫ Instagram embed.
        </p>
        <div id="mediaList"></div>
      </section>

      <!-- ===== ORIGINAL: FOOTER ===== -->
      <footer>
        <div>
          Telegram –∫–∞–Ω–∞–ª:
          <a href="https://t.me/kieler_mafia" target="_blank">@kieler_mafia</a>
          <span class="sep">¬∑</span>
          –ö–æ–Ω—Ç–∞–∫—Ç–∏:
          <a href="https://t.me/ksenyashvets19" target="_blank"
            >@ksenyashvets19</a
          >
          <span class="sep">¬∑</span>
          <a href="https://t.me/OksanaKolivanova" target="_blank"
            >@OksanaKolivanova</a
          >
          <span class="sep">¬∑</span>
          Instagram:
          <a href="https://instagram.com/kieler.mafia.club" target="_blank"
            >@kieler.mafia.club</a
          >
        </div>
        <div style="margin-top: 6px">
          ¬© <span id="year"></span> Kiel Mafia Club ¬∑ made with üñ§
        </div>
      </footer>
    </div>

    <!-- ============================================================ -->
    <!-- ================ ALL ORIGINAL JAVASCRIPT =================== -->
    <!-- ============================================================ -->
    <script>
      // ===== CONFIG =====
      const CLUB = {
        instagram: "https://instagram.com/kieler.mafia.club",
        email: "kieler.mafia.club@gmail.com",
        location: "Brahmsweg 17, 24159 Kiel",
        telegramChannel: "https://t.me/kieler_mafia",
        telegramContacts: [
          { handle: "@ksenyashvets19", link: "https://t.me/ksenyashvets19" },
          {
            handle: "@OksanaKolivanova",
            link: "https://t.me/OksanaKolivanova",
          },
        ],
      };

      const EVENTS = [
        {
          title: "MAFIA FRIDAY 13 ¬∑ TOTAL BLACK DRESS CODE",
          dateTime: "2026-03-13T18:30:00+01:00",
          warmup: "17:30 ¬∑ –º–∞–π—Å—Ç–µ—Ä-–∫–ª–∞—Å",
          game: "18:30 ¬∑ —ñ–≥—Ä–∏",
          price: "–ü–µ—Ä—à–∏–π –≤–µ—á—ñ—Ä ‚Äî –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ",
          place: CLUB.location,
          dress: "Total Black",
          tags: ["dresscode", "special"],
        },
        {
          title: "Friday Mafia Night",
          dateTime: "2026-03-20T18:30:00+01:00",
          warmup: "17:30 ¬∑ –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤",
          game: "18:30 ¬∑ —ñ–≥—Ä–∏",
          price: "–£—Ç–æ—á–Ω—é–π —É DM / Telegram",
          place: CLUB.location,
          dress: "Free style",
          tags: ["regular"],
        },
      ];

      const IG_POSTS = [
        { title: "–†–µ–ø–æ—Ä—Ç", url: "https://www.instagram.com/p/DUyP-TADaGV/" },
        { title: "Reel", url: "https://www.instagram.com/reel/DPd1lejDEOf/" },
      ];

      const DATA = {
        tournaments: [
          {
            name: "Spring Tournament #1",
            date: "2026-03-20",
            link: "",
            participants: [
              { nick: "foxxy", place: 1, prize: 50 },
              { nick: "an.krsh", place: 2, prize: 30 },
              { nick: "yalemonchik", place: 3, prize: 20 },
            ],
          },
        ],
        players: [
          { nick: "foxxy", birthday: "2000-05-12" },
          { nick: "an.krsh", birthday: "1998-10-02" },
          { nick: "yalemonchik", birthday: "1997-02-14" },
        ],
        media: [
          {
            type: "instagram",
            title: "Reel (–∫–ª—É–±)",
            url: "https://www.instagram.com/reel/DPd1lejDEOf/",
          },
          {
            type: "instagram",
            title: "–ü–æ—Å—Ç (—Ä–µ–ø–æ—Ä—Ç)",
            url: "https://www.instagram.com/p/DUyP-TADaGV/",
          },
          {
            type: "youtube",
            title: "Best moments (–ø—Ä–∏–∫–ª–∞–¥)",
            url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
          },
        ],
      };

      // ===== RANKING DATA =====
      const RANKING_DATA = [
        { rank: 1, name: "Skorp", games: 16, wins: 9, mvp: 0, score: 340 },
        { rank: 2, name: "Jane Doe", games: 13, wins: 8, mvp: 0, score: 290 },
        { rank: 3, name: "Aladin", games: 14, wins: 7, mvp: 0, score: 280 },
        { rank: 4, name: "–ì–µ–∫–∞—Ç–∞", games: 15, wins: 7, mvp: 0, score: 290 },
        { rank: 5, name: "Futuristka", games: 6, wins: 6, mvp: 0, score: 210 },
        { rank: 6, name: "Frau Kraft", games: 9, wins: 5, mvp: 0, score: 190 },
        { rank: 7, name: "–ë–∞–º–±—É–∫", games: 11, wins: 4, mvp: 0, score: 190 },
        { rank: 8, name: "–ú–∞–ª—å–≤—ñ–Ω–∞", games: 11, wins: 4, mvp: 0, score: 190 },
        {
          rank: 9,
          name: "Medical Femme",
          games: 5,
          wins: 3,
          mvp: 0,
          score: 110,
        },
        { rank: 10, name: "Mechanik", games: 13, wins: 3, mvp: 0, score: 190 },
        { rank: 11, name: "–û—Ñ—ñ—Ü—ñ–∞–Ω—Ç", games: 12, wins: 3, mvp: 0, score: 180 },
        { rank: 12, name: "Hella", games: 5, wins: 2, mvp: 0, score: 90 },
        { rank: 13, name: "Limonka", games: 8, wins: 2, mvp: 0, score: 120 },
        { rank: 14, name: "Sonnik", games: 4, wins: 2, mvp: 0, score: 80 },
        { rank: 15, name: "Nikita", games: 2, wins: 2, mvp: 0, score: 60 },
        { rank: 16, name: "Nesty", games: 2, wins: 1, mvp: 0, score: 40 },
        { rank: 17, name: "–ö—Å—é—à–∞", games: 1, wins: 1, mvp: 0, score: 30 },
        { rank: 18, name: "SMP", games: 2, wins: 0, mvp: 0, score: 20 },
        { rank: 19, name: "Buba", games: 1, wins: 0, mvp: 0, score: 10 },
      ];

      const EVENTS_DATA = [
        {
          date: "02.01.2026",
          host: "–ë–∞–º–±—É–∫",
          type: "–ú–∞–π—Å—Ç–µ—Ä-–∫–ª–∞—Å",
          total: 10,
          new: 2,
        },
        {
          date: "09.01.2026",
          host: "–ë–∞–º–±—É–∫",
          type: "–ú–∞–π—Å—Ç–µ—Ä-–∫–ª–∞—Å",
          total: 10,
          new: 2,
        },
        {
          date: "14.02.2026",
          host: "–ú–µ—Ö–∞–Ω—ñ–∫ & –õ—ñ–º–æ–Ω",
          type: "–î–µ–Ω—å –∑–∞–∫–æ—Ö–∞–Ω–∏—Ö",
          total: 16,
          new: 4,
          special: true,
        },
        {
          date: "13.03.2026",
          host: "–ö—Ä—é—á–∫–æ–≤–∞",
          type: "8 –ë–µ—Ä–µ–∑–Ω—è",
          total: 12,
          new: 3,
          special: true,
        },
        {
          date: "20.12.2026",
          host: "–ú–µ—Ö–∞–Ω—ñ–∫",
          type: "–¢–∞—î–º–Ω–∏–π –°–∞–Ω—Ç–∞",
          total: 15,
          new: 2,
          special: true,
        },
      ];

      // ===== HELPERS =====
      const $ = (id) => document.getElementById(id);

      function fmtDateTime(iso) {
        const d = new Date(iso);
        return d.toLocaleString(undefined, {
          weekday: "short",
          year: "numeric",
          month: "short",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
        });
      }
      function fmtDate(ymd) {
        const d = new Date(ymd + "T12:00:00");
        return d.toLocaleDateString(undefined, {
          year: "numeric",
          month: "short",
          day: "2-digit",
        });
      }

      function normalizeIG(url) {
        try {
          const u = new URL(url);
          const parts = u.pathname.split("/").filter(Boolean);
          const types = ["p", "reel", "tv"];
          for (const t of types) {
            const idx = parts.indexOf(t);
            if (idx >= 0 && parts[idx + 1]) {
              const code = parts[idx + 1];
              return {
                type: t,
                code,
                permalink: `https://www.instagram.com/${t}/${code}/`,
              };
            }
          }
        } catch (e) {}
        return { type: "", code: "", permalink: url };
      }

      function buildICS(ev) {
        const start = new Date(ev.dateTime);
        const end = new Date(start.getTime() + 3 * 60 * 60 * 1000);
        const pad = (n) => String(n).padStart(2, "0");
        const toICS = (d) => {
          const u = new Date(d.getTime() - d.getTimezoneOffset() * 60000);
          return `${u.getUTCFullYear()}${pad(u.getUTCMonth() + 1)}${pad(u.getUTCDate())}T${pad(u.getUTCHours())}${pad(u.getUTCMinutes())}${pad(u.getUTCSeconds())}Z`;
        };
        const uid = `mafia-kiel-${start.getTime()}@mafiakiel`;
        const title = ev.title.replace(/[,;]/g, " ");
        const loc = (ev.place || "").replace(/[,;]/g, " ");
        const desc = [
          ev.warmup || "",
          ev.game || "",
          ev.price ? `–¶—ñ–Ω–∞: ${ev.price}` : "",
          ev.dress ? `Dress code: ${ev.dress}` : "",
          "–ó–∞–ø–∏—Å: Telegram/DM/Email",
        ]
          .filter(Boolean)
          .join("\\n");
        return (
          "data:text/calendar;charset=utf-8," +
          encodeURIComponent(
            `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Mafia Kiel//Events//UA\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nBEGIN:VEVENT\nUID:${uid}\nDTSTAMP:${toICS(new Date())}\nDTSTART:${toICS(start)}\nDTEND:${toICS(end)}\nSUMMARY:${title}\nLOCATION:${loc}\nDESCRIPTION:${desc}\nEND:VEVENT\nEND:VCALENDAR`,
          )
        );
      }

      // ===== SIGNUP =====
      function signup() {
        const subject = encodeURIComponent("–ó–∞–ø–∏—Å –Ω–∞ –º–∞—Ñ—ñ—é ¬∑ Mafia Kiel");
        const body = encodeURIComponent(
          "–ü—Ä–∏–≤—ñ—Ç! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –º–∞—Ñ—ñ—é.\n–î–∞—Ç–∞/—Ç–µ–º–∞: ____\n–Ü–º'—è: ____\n–°–∫—ñ–ª—å–∫–∏ –ª—é–¥–µ–π: ____\n\n–õ–æ–∫–∞—Ü—ñ—è: " +
            CLUB.location +
            "\nInstagram: " +
            CLUB.instagram +
            "\nTelegram: " +
            CLUB.telegramChannel,
        );
        const mailto = `mailto:${CLUB.email}?subject=${subject}&body=${body}`;
        const msg = `–Ø–∫ –∑–∞–ø–∏—Å–∞—Ç–∏—Å—è?\n1) Telegram –∫–∞–Ω–∞–ª (–∞–Ω–æ–Ω—Å–∏): ${CLUB.telegramChannel}\n2) Telegram –∫–æ–Ω—Ç–∞–∫—Ç–∏:\n- ${CLUB.telegramContacts[0].handle}\n- ${CLUB.telegramContacts[1].handle}\n3) Instagram DM: ${CLUB.instagram}\n4) Email: ${CLUB.email}\n\n–ù–∞—Ç–∏—Å–Ω–∏ OK ‚Äî –≤—ñ–¥–∫—Ä–∏—é Email (—è–∫ –∑–∞–ø–∞—Å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç).`;
        if (confirm(msg)) window.location.href = mailto;
      }
      if ($("btnSignup")) {
        $("btnSignup").addEventListener("click", (e) => {
          e.preventDefault();
          signup();
        });
      }

      // ===== RENDER EVENTS (Announcements) =====
      function renderAnnouncements() {
        const el = $("events");
        const sorted = [...EVENTS].sort(
          (a, b) => new Date(a.dateTime) - new Date(b.dateTime),
        );
        el.innerHTML = "";
        sorted.forEach((ev) => {
          const badge = ev.tags?.includes("dresscode")
            ? `<span class="badge red">DRESS CODE</span>`
            : `<span class="badge">FRIDAY</span>`;
          const dress =
            ev.dress && ev.dress.toLowerCase().includes("black")
              ? `<span class="badge red">TOTAL BLACK</span>`
              : ev.dress
                ? `<span class="badge">${ev.dress}</span>`
                : "";
          const icsHref = buildICS(ev);
          const div = document.createElement("div");
          div.className = "event";
          div.innerHTML = `
      <div>
        <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">${badge} ${dress}</div>
        <div style="margin-top:8px">
          <strong>${ev.title}</strong>
          <div class="meta">
            <div>üóìÔ∏è ${fmtDateTime(ev.dateTime)}</div>
            <div>üïò ${ev.warmup || ""}${ev.game ? " ¬∑ " + ev.game : ""}</div>
            <div>üìç ${ev.place || "Kiel"}</div>
            ${ev.price ? `<div>üí∂ ${ev.price}</div>` : ""}
          </div>
        </div>
      </div>
      <div class="actions">
        <button class="btn mini primary" data-signup="1">üïµÔ∏è –ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</button>
        <a class="btn mini" href="${icsHref}" download="mafia-kiel.ics">‚ûï Calendar</a>
      </div>`;
          el.appendChild(div);
        });
        // set countdown target
        const now = new Date();
        const next =
          sorted.find((ev) => new Date(ev.dateTime) > now) || sorted[0];
        window.__NEXT = next;
        if ($("nextLabel"))
          $("nextLabel").textContent = next
            ? `–ù–∞—Å—Ç—É–ø–Ω–∞ –≥—Ä–∞: ${next.title}`
            : "–ù–∞—Å—Ç—É–ø–Ω–∞ –≥—Ä–∞: ‚Äî";
        if ($("nextMeta"))
          $("nextMeta").textContent = next ? fmtDateTime(next.dateTime) : "‚Äî";
      }

      document.addEventListener("click", (e) => {
        const btn = e.target.closest("[data-signup]");
        if (btn) {
          e.preventDefault();
          signup();
        }
      });

      // ===== COUNTDOWN =====
      function tick() {
        const next = window.__NEXT;
        if (!next) return;
        let diff = Math.max(0, new Date(next.dateTime).getTime() - Date.now());
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        diff -= d * (1000 * 60 * 60 * 24);
        const h = Math.floor(diff / (1000 * 60 * 60));
        diff -= h * (1000 * 60 * 60);
        const m = Math.floor(diff / (1000 * 60));
        diff -= m * (1000 * 60);
        const s = Math.floor(diff / 1000);
        if ($("d")) $("d").textContent = String(d).padStart(2, "0");
        if ($("h")) $("h").textContent = String(h).padStart(2, "0");
        if ($("m")) $("m").textContent = String(m).padStart(2, "0");
        if ($("s")) $("s").textContent = String(s).padStart(2, "0");
      }

      // ===== ROLE RANDOMIZER =====
      const ROLES = [
        { name: "–ú–∏—Ä–Ω–∏–π –º–µ—à–∫–∞–Ω–µ—Ü—å", hint: "–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π, –∞–Ω–∞–ª—ñ–∑—É–π, –≥–æ–ª–æ—Å—É–π." },
        { name: "–ú–∞—Ñ—ñ—è", hint: "–¢—Ä–∏–º–∞–π –ª—ñ–Ω—ñ—é, –Ω–µ –ø–∞–ª–∏—Å—å üòÑ" },
        { name: "–®–µ—Ä–∏—Ñ", hint: "–°—Ç–∞–≤ –ø–∏—Ç–∞–Ω–Ω—è —ñ —à—É–∫–∞–π –ø—Ä–∞–≤–¥—É." },
        { name: "–î–æ–Ω", hint: "–ö–µ—Ä—É—î—à –≥—Ä–æ—é ‚Äî –∞–ª–µ —Ç–∏—Ö–æ." },
        { name: "–î–æ–∫—Ç–æ—Ä", hint: "–†—è—Ç—É–π –º—ñ—Å—Ç–æ (—è–∫—â–æ —Ä–æ–ª—å —É —Ñ–æ—Ä–º–∞—Ç—ñ)." },
      ];
      $("btnRole").addEventListener("click", () => {
        const r = ROLES[Math.floor(Math.random() * ROLES.length)];
        $("role").textContent = `${r.name} ‚Äî ${r.hint}`;
      });

      // ===== ALIBI + QUOTE =====
      const ALIBIS = [
        "–Ø –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–π—à–æ–≤(–ª–∞) –∑–∞ –∫–∞–≤–æ—é‚Ä¶ —ñ –≤–∏–ø–∞–¥–∫–æ–≤–æ –æ–ø–∏–Ω–∏–≤—Å—è(–ª–∞—Å—å) —Ç—É—Ç ‚òï",
        "–Ø –º–æ–≤—á–∞–≤(–ª–∞), –±–æ –∞–Ω–∞–ª—ñ–∑—É–≤–∞–≤(–ª–∞), –∞ –Ω–µ —Ç–æ–º—É —â–æ —è –º–∞—Ñ—ñ—è.",
        "–ú–µ–Ω–µ –ø—ñ–¥—Å—Ç–∞–≤–∏–ª–∏. –Ø –∑–∞–Ω–∞–¥—Ç–æ –∫—Ä–∞—Å–∏–≤–∏–π(–∞), —â–æ–± –±—É—Ç–∏ –º–∞—Ñ—ñ—î—é üòé",
        "–Ø –≥–æ–ª–æ—Å—É–≤–∞–≤(–ª–∞) –ª–æ–≥—ñ—á–Ω–æ. –Ø–∫—â–æ —Ü–µ –∑–ª–æ—á–∏–Ω ‚Äî –∞—Ä–µ—à—Ç–æ–≤—É–π—Ç–µ.",
        "–Ø –ø—Ä–æ—Å—Ç–æ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–≤(–ª–∞). –ú—ñ—Å—Ç–æ –ø–æ—Ç—Ä–µ–±—É—î –º—ñ–∑–∫—ñ–≤, –Ω–µ –∫—Ä–∏–∫—ñ–≤.",
        "–Ø –Ω–µ –ø—ñ–¥–æ–∑—Ä—ñ–ª–∏–π(–∞). –Ø –ø—Ä–æ—Å—Ç–æ —ñ–Ω—Ç—Ä–æ–≤–µ—Ä—Ç(–∫–∞) ü´†",
        "–Ø –Ω–µ –∑–ª–∏–≤–∞–≤(–ª–∞) –Ω—ñ–∫–æ–≥–æ. –Ø —Ä—è—Ç—É–≤–∞–≤(–ª–∞) –º—ñ—Å—Ç–æ‚Ä¶ –ø–æ-—Å–≤–æ—î–º—É.",
        "–Ø –¥–∏–≤–∏–≤—Å—è(–ª–∞—Å—å) –Ω–∞ —Ä–µ–∞–∫—Ü—ñ—ó. –Ü –∑–∞—Ä–∞–∑ –±–∞—á—É, —Ö—Ç–æ –≥—Ä–∞—î —Ä–æ–ª—å.",
        "–£ –º–µ–Ω–µ –∞–ª—ñ–±—ñ –∑–∞–ª—ñ–∑–Ω–µ: —è –Ω–∞–≤—ñ—Ç—å –ø—Ä–∞–≤–∏–ª –Ω–µ –¥–æ—á–µ–∫–∞–≤—Å—è(–ª–∞—Å—å) ‚Äî –≤–∂–µ –∑—Ä–æ–∑—É–º—ñ–≤(–ª–∞) —Ö—Ç–æ –º–∞—Ñ—ñ—è.",
        "–Ø –±—É–≤(–ª–∞) –º–∞—Ñ—ñ—î—é —Ç—ñ–ª—å–∫–∏ –≤ –¥—É—à—ñ. –ù–∞ —Å—Ç–æ–ª—ñ ‚Äî –Ω—ñ üòá",
      ];
      const QUOTES = [
        "–ú—ñ—Å—Ç–æ –∑–∞—Å–∏–Ω–∞—î‚Ä¶ –∞–ª–µ –ø—Ä–∞–≤–¥–∞ –Ω–µ —Å–ø–∏—Ç—å.",
        "–¢–∏—à–∞ ‚Äî –Ω–∞–π–∫—Ä–∞—â–∏–π –∫–æ—Å—Ç—é–º –º–∞—Ñ—ñ—ó.",
        "–ù–µ —Ç–æ–π –≤–∏–Ω–µ–Ω, —Ö—Ç–æ –ø—ñ–¥–æ–∑—Ä—ñ–ª–∏–π. –ê —Ç–æ–π, —Ö—Ç–æ –Ω–∞–¥—Ç–æ –ø–µ—Ä–µ–∫–æ–Ω–ª–∏–≤–∏–π.",
        "–°–ª–æ–≤–∞ ‚Äî —Ü–µ –¥–∏–º. –§–∞–∫—Ç–∏ ‚Äî —Ü–µ –≤–æ–≥–æ–Ω—å.",
        "–Ø–∫—â–æ —Ç–∏ –≤—Å—ñ–º –ø–æ–¥–æ–±–∞—î—à—Å—è ‚Äî —Ç–∏ –∞–±–æ –≥–µ–Ω—ñ–π, –∞–±–æ –º–∞—Ñ—ñ—è.",
        "–°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –≥—Ä–∞—î–º–æ –≤ –º–∞—Ñ—ñ—é. –ó–∞–≤—Ç—Ä–∞ ‚Äî –≤–æ–Ω–∞ –≥—Ä–∞—î –Ω–∞–º–∏.",
        "–î–æ–≤—ñ—Ä–∞ ‚Äî –≤–∞–ª—é—Ç–∞. –ë—Ä–µ—Ö–Ω—è ‚Äî –≤—ñ–¥—Å–æ—Ç–∫–∏.",
        "–ü–æ–≥–∞–Ω–∏–π —Ö—ñ–¥ ‚Äî —Ç–µ–∂ —Ö—ñ–¥. –ì—ñ—Ä—à–µ ‚Äî –Ω–µ –∑—Ä–æ–±–∏—Ç–∏ –∂–æ–¥–Ω–æ–≥–æ.",
        "–ü–µ—Ä–µ–º–æ–≥–∞ –ª—é–±–∏—Ç—å —Å–ø–æ–∫—ñ–π. –ú–∞—Ñ—ñ—è ‚Äî —Ö–∞–æ—Å.",
        "–ó–∞–≤–∂–¥–∏ —Å–ª—É—Ö–∞–π –º—ñ—Å—Ç–æ. –û—Å–æ–±–ª–∏–≤–æ –∫–æ–ª–∏ –≤–æ–Ω–æ –º–æ–≤—á–∏—Ç—å.",
      ];
      function pick(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
      }
      $("btnAlibi").addEventListener("click", () => {
        $("alibiText").textContent = pick(ALIBIS);
      });
      $("btnQuote").addEventListener("click", () => {
        $("quoteText").textContent = "\u201C" + pick(QUOTES) + "\u201D";
      });

      // ===== INSTAGRAM TILES =====
      const grid = $("iggrid");
      grid.innerHTML = IG_POSTS.map((p, i) => {
        const n = normalizeIG(p.url);
        return `
    <div class="igcard">
      <div class="top"><b>${p.title || "Instagram"}</b><span>${n.code ? "#" + n.code : "Post " + (i + 1)}</span></div>
      <div class="body">
        <blockquote class="instagram-media" data-instgrm-permalink="${n.permalink}" data-instgrm-version="14"
          style="background:#000;border:0;margin:0;width:100%;border-radius:12px;overflow:hidden;"></blockquote>
        <div style="height:10px"></div>
        <a class="btn mini" href="${n.permalink}" target="_blank">–í—ñ–¥–∫—Ä–∏—Ç–∏ ‚Üó</a>
      </div>
    </div>`;
      }).join("");

      // ===== HUB TABS =====
      const tabs = Array.from(document.querySelectorAll(".tab"));
      const panels = Array.from(document.querySelectorAll(".panel"));
      tabs.forEach((t) => {
        t.addEventListener("click", () => {
          tabs.forEach((x) => x.setAttribute("aria-selected", "false"));
          t.setAttribute("aria-selected", "true");
          const id = t.dataset.tab;
          panels.forEach((p) => p.classList.toggle("active", p.id === id));
        });
      });

      // ===== RANKING (Card-based from RANKING_DATA) =====
      function renderRanking() {
        const container = $("rankTable");
        const maxScore = Math.max(...RANKING_DATA.map((p) => p.score));
        let html = '<div class="mafia-rating-list">';
        RANKING_DATA.forEach((player) => {
          const isTop = player.rank === 1;
          const pct = (player.score / maxScore) * 100;
          html += `
      <div class="${isTop ? "rating-card top-don" : "rating-card"}">
        <div class="card-rank">${isTop ? "ü•á" : "#" + player.rank}</div>
        <div class="card-info">
          <span class="card-name">${player.name}</span>
          <span class="card-stats">üéÆ ${player.games} —ñ–≥–æ—Ä | üèÜ W: ${player.wins} | MVP: ${player.mvp}
            ${isTop ? '<span style="color:#d32f2f;font-weight:bold;margin-left:10px">BOSS</span>' : ""}
          </span>
        </div>
        <div class="card-score">
          <span class="score-value">${player.score} PTS</span>
          <div class="score-bar-bg"><div class="score-bar-fill" style="width:${Math.max(pct, 5)}%"></div></div>
        </div>
      </div>`;
        });
        html += "</div>";
        container.innerHTML = html;
        setTimeout(() => {
          document.querySelectorAll(".score-bar-fill").forEach((bar) => {
            const w = bar.style.width;
            bar.style.width = "0%";
            setTimeout(() => (bar.style.width = w), 50);
          });
        }, 100);
      }

      // ===== TIMELINE (from EVENTS_DATA) =====
      function renderTimeline() {
        const container = $("tournaments");
        let html = '<div class="mafia-timeline">';
        EVENTS_DATA.forEach((evt) => {
          const style = evt.special
            ? "border-color:#d32f2f;background:#220000;"
            : "";
          html += `
      <div class="event-card" style="${style}">
        <span class="event-date">${evt.date}</span>
        <div class="event-title">${evt.type}</div>
        <div class="event-details">
          <span>üïµÔ∏è ${evt.host}</span>
          <span>üë• ${evt.total} —á–æ–ª (+${evt.new} –Ω–æ–≤–∏—Ö)</span>
        </div>
      </div>`;
        });
        html += "</div>";
        container.innerHTML = html;
      }

      // ===== PLAYERS + BIRTHDAYS (from DATA) =====
      const now = new Date();
      const currentYear = now.getFullYear();
      const scoreByPlace = (p) =>
        p === 1 ? 10 : p === 2 ? 7 : p === 3 ? 5 : 2;
      const stats = new Map();
      function addStat(nick, updater) {
        if (!stats.has(nick))
          stats.set(nick, {
            nick,
            points: 0,
            wins: 0,
            prize: 0,
            played: 0,
            tours: [],
          });
        updater(stats.get(nick));
      }
      DATA.tournaments.forEach((t) => {
        const year = new Date(t.date + "T12:00:00").getFullYear();
        if (year !== currentYear) return;
        (t.participants || []).forEach((p) => {
          addStat(p.nick, (s) => {
            s.played += 1;
            s.points += scoreByPlace(p.place);
            s.prize += Number(p.prize || 0);
            if (p.place === 1) s.wins += 1;
            s.tours.push({
              tournament: t.name,
              date: t.date,
              place: p.place,
              prize: p.prize || 0,
            });
          });
        });
      });

      const players = [...DATA.players].sort((a, b) =>
        a.nick.localeCompare(b.nick),
      );
      $("playersTable").innerHTML = `
  <thead><tr><th>–ù—ñ–∫</th><th>–¢—É—Ä–Ω—ñ—Ä–∏ ${currentYear}</th><th>–ü—Ä–∏–∑–æ–≤—ñ</th></tr></thead>
  <tbody>${players
    .map((p) => {
      const st = stats.get(p.nick);
      const played = st?.played || 0;
      const prize = st?.prize || 0;
      return `<tr data-nick="${p.nick}" style="cursor:pointer"><td><b>${p.nick}</b></td><td>${played}</td><td>${prize}‚Ç¨</td></tr>`;
    })
    .join("")}</tbody>`;

      $("playersTable").addEventListener("click", (e) => {
        const tr = e.target.closest("tr[data-nick]");
        if (!tr) return;
        const nick = tr.dataset.nick;
        const st = stats.get(nick);
        $("pTitle").textContent = `@${nick}`;
        if (!st) {
          $("pBody").innerHTML =
            `<div class="sub">–£ ${currentYear} –ø–æ–∫–∏ –Ω–µ–º–∞—î —Ç—É—Ä–Ω—ñ—Ä—ñ–≤/—É—á–∞—Å—Ç—ñ –¥–ª—è —Ü—å–æ–≥–æ –≥—Ä–∞–≤—Ü—è.</div>`;
          return;
        }
        const list = st.tours
          .sort((a, b) => new Date(b.date) - new Date(a.date))
          .map(
            (x) =>
              `<li>${fmtDate(x.date)} ¬∑ <b>${x.tournament}</b> ‚Äî –º—ñ—Å—Ü–µ: ${x.place || "‚Äî"}, –ø—Ä–∏–∑: ${x.prize || 0}‚Ç¨</li>`,
          )
          .join("");
        $("pBody").innerHTML = `
    <div class="sub">–û—á–∫–∏: <b>${st.points}</b> ¬∑ –ü–µ—Ä–µ–º–æ–≥–∏: <b>${st.wins}</b> ¬∑ –¢—É—Ä–Ω—ñ—Ä—ñ–≤: <b>${st.played}</b> ¬∑ –ü—Ä–∏–∑–æ–≤—ñ: <b>${st.prize}‚Ç¨</b></div>
    <div style="height:10px"></div>
    <ul class="sub" style="margin:0;padding-left:18px;line-height:1.7">${list}</ul>`;
      });

      function nextBirthday(bday) {
        const d0 = new Date(bday + "T12:00:00");
        const now = new Date();
        const d = new Date(
          now.getFullYear(),
          d0.getMonth(),
          d0.getDate(),
          12,
          0,
          0,
        );
        if (d < now) d.setFullYear(now.getFullYear() + 1);
        return d;
      }
      const bdays = DATA.players
        .filter((p) => p.birthday)
        .map((p) => ({
          nick: p.nick,
          birthday: p.birthday,
          next: nextBirthday(p.birthday),
        }))
        .sort((a, b) => a.next - b.next);
      $("bdayTable").innerHTML = `
  <thead><tr><th>–ù—ñ–∫</th><th>–î–ù</th><th>–ù–∞–π–±–ª–∏–∂—á–∏–π</th></tr></thead>
  <tbody>${
    bdays.length
      ? bdays
          .map(
            (x) =>
              `<tr><td><b>${x.nick}</b></td><td>${fmtDate(x.birthday)}</td><td>${x.next.toLocaleDateString(undefined, { month: "short", day: "2-digit" })}</td></tr>`,
          )
          .join("")
      : `<tr><td colspan="3" style="color:var(--muted)">–î–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ.</td></tr>`
  }</tbody>`;

      // ===== MEDIA =====
      function ytEmbed(url) {
        const u = new URL(url);
        return `https://www.youtube.com/embed/${u.searchParams.get("v") || u.pathname.split("/").pop()}`;
      }
      $("mediaList").innerHTML = DATA.media
        .map((m) => {
          if (m.type === "youtube")
            return `
    <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10);margin-top:10px">
      <div style="font-size:14px"><b>${m.title}</b></div><div style="height:10px"></div>
      <iframe class="yt" src="${ytEmbed(m.url)}" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture" allowfullscreen></iframe>
    </div>`;
          if (m.type === "instagram") {
            const n = normalizeIG(m.url);
            return `
    <div class="igcard" style="margin-top:10px">
      <div class="top"><b>${m.title}</b><span>${n.type ? n.type.toUpperCase() : "IG"}</span></div>
      <div class="body">
        <blockquote class="instagram-media" data-instgrm-permalink="${n.permalink}" data-instgrm-version="14"
          style="background:#000;border:0;margin:0;width:100%;border-radius:12px;overflow:hidden;"></blockquote>
        <div style="height:10px"></div>
        <a class="btn mini" href="${n.permalink}" target="_blank">–í—ñ–¥–∫—Ä–∏—Ç–∏ ‚Üó</a>
      </div>
    </div>`;
          }
          return `<div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10);margin-top:10px">
    <div style="font-size:14px"><b>${m.title}</b></div>
    <div class="sub"><a href="${m.url}" target="_blank" style="color:rgba(255,255,255,.78)">${m.url}</a></div></div>`;
        })
        .join("");

      // ===== INIT =====
      $("year").textContent = new Date().getFullYear();
      renderAnnouncements();
      renderRanking();
      renderTimeline();
      tick();
      setInterval(tick, 1000);

      // Close mobile nav on link click
      document.querySelectorAll(".header-nav .nav-link").forEach((link) => {
        link.addEventListener("click", () => {
          document.querySelector(".header-nav").classList.remove("open");
        });
      });
    </script>

    <!-- Instagram embed script -->
    <script async src="https://www.instagram.com/embed.js"></script>
    <script>
      window.addEventListener("load", () => {
        if (window.instgrm && window.instgrm.Embeds)
          window.instgrm.Embeds.process();
      });
    </script>
  </body>
</html>
