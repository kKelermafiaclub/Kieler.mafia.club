<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ú–∞—Ñ–∏—è –ö–∏–ª—å ¬∑ Mafia Kiel</title>
  <meta name="description" content="Mafia Kiel ‚Äî –∞–Ω–æ–Ω—Å—ã, —Ç—É—Ä–Ω–∏—Ä—ã, —Ä–µ–π—Ç–∏–Ω–≥, —Ñ–æ—Ç–æ–æ—Ç—á–µ—Ç—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è." />
  <style>
    :root{
      --bg:#05060a;
      --bg2:#070a12;
      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.08);
      --line:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --gold:#d8b25a;
      --gold2:#f2d68a;
      --red:#ff3b3b;
      --r:18px;
      --shadow:0 18px 60px rgba(0,0,0,.55);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text); font-family:var(--sans);
      background:
        radial-gradient(1200px 700px at 20% 0%, rgba(216,178,90,.14), transparent 62%),
        radial-gradient(1000px 700px at 90% 25%, rgba(255,59,59,.10), transparent 56%),
        radial-gradient(900px 600px at 40% 100%, rgba(216,178,90,.10), transparent 56%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
    }
    .grain{
      pointer-events:none; position:fixed; inset:0; opacity:.14; mix-blend-mode:overlay;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      background-size:220px 220px;
    }
    .wrap{max-width:1180px; margin:0 auto; padding:22px 14px 70px;}
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; padding:6px 0 14px;}
    .brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit;}
    .logo{
      width:46px; height:46px; border-radius:16px;
      background:radial-gradient(circle at 30% 30%, rgba(242,214,138,.30), transparent 55%),
                linear-gradient(135deg, rgba(216,178,90,.22), rgba(255,255,255,.06));
      border:1px solid rgba(216,178,90,.30);
      box-shadow:0 10px 30px rgba(0,0,0,.35);
      display:grid; place-items:center;
      font-weight:900; letter-spacing:.08em;
      color:var(--gold2);
      font-family:var(--mono);
    }
    .brand h1{margin:0; font-size:15.5px; letter-spacing:.02em}
    .brand p{margin:2px 0 0; font-size:12.5px; color:var(--muted)}
    .pillrow{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .pill{
      font-size:12px; padding:8px 10px; border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
      display:inline-flex; gap:8px; align-items:center;
    }
    .dot{width:7px;height:7px;border-radius:999px;background:var(--gold); box-shadow:0 0 14px rgba(216,178,90,.35)}
    .dot.red{background:var(--red); box-shadow:0 0 14px rgba(255,59,59,.35)}

    /* HERO */
    .hero{
      padding:22px;
      border-radius:calc(var(--r) + 8px);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.12);
      box-shadow:var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .hero:before{
      content:""; position:absolute; inset:-2px;
      background:
        radial-gradient(520px 260px at 18% 30%, rgba(216,178,90,.22), transparent 70%),
        radial-gradient(680px 340px at 82% 45%, rgba(255,59,59,.16), transparent 70%);
      filter:blur(7px);
      opacity:.95;
      pointer-events:none;
    }
    .hero > *{position:relative}
    .kicker{
      display:inline-flex; align-items:center; gap:10px;
      font-family:var(--mono);
      letter-spacing:.14em;
      text-transform:uppercase;
      font-size:12px;
      color:rgba(255,255,255,.78);
    }
    .kicker .mark{width:34px; height:1px; background:rgba(216,178,90,.80); box-shadow:0 0 18px rgba(216,178,90,.35);}
    .hero h2{margin:12px 0 10px; font-size:36px; line-height:1.05; letter-spacing:-.02em;}
    .hero h2 span{
      background:linear-gradient(90deg, var(--gold2), #fff);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .hero p{margin:0; color:rgba(255,255,255,.78); max-width:78ch; font-size:15px; line-height:1.6;}
    .ctas{display:flex; gap:10px; flex-wrap:wrap; margin-top:16px}
    .btn{
      appearance:none; border:none; cursor:pointer;
      padding:12px 14px; border-radius:14px;
      color:var(--text);
      background:rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.14);
      text-decoration:none;
      display:inline-flex; gap:10px; align-items:center;
      transition:transform .10s ease, background .10s ease, border-color .10s ease;
      font-size:14px;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.10); border-color:rgba(255,255,255,.20)}
    .btn.primary{
      background:linear-gradient(135deg, rgba(216,178,90,.30), rgba(255,255,255,.08));
      border-color:rgba(216,178,90,.38);
    }
    .btn.primary:hover{background:linear-gradient(135deg, rgba(216,178,90,.36), rgba(255,255,255,.10))}
    .mini{padding:10px 12px;border-radius:12px;font-size:13px}

    /* LAYOUT */
    .grid{margin-top:14px; display:grid; grid-template-columns: 1.2fr .8fr; gap:12px;}
    @media (max-width: 980px){ .grid{grid-template-columns:1fr} }
    .card{
      border-radius:var(--r);
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      padding:16px;
    }
    .card h3{margin:0 0 10px; font-size:16px;}
    .sub{color:var(--muted); font-size:13px; line-height:1.55; margin:0 0 12px;}

    /* EVENTS */
    .events{display:grid; gap:10px}
    .event{
      padding:14px;
      border-radius:16px;
      background:rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      display:grid;
      grid-template-columns: 1fr auto;
      gap:10px;
      align-items:center;
    }
    .event strong{font-size:14px}
    .event .meta{margin-top:6px; color:var(--muted); font-size:12.5px; line-height:1.45}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      font-family:var(--mono); font-size:11px; letter-spacing:.12em; text-transform:uppercase;
      color:rgba(255,255,255,.82);
      border:1px solid rgba(216,178,90,.34);
      background:rgba(216,178,90,.10);
      padding:8px 10px; border-radius:999px; white-space:nowrap;
    }
    .badge.red{border-color:rgba(255,59,59,.40); background:rgba(255,59,59,.10)}
    .event .actions{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;}
    .countwrap{
      display:grid; gap:10px;
      padding:14px; border-radius:16px;
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.12);
    }
    .counttitle{display:flex; justify-content:space-between; gap:10px; align-items:center}
    .counttitle span{color:var(--muted); font-size:12.5px}
    .count{display:flex; gap:10px; flex-wrap:wrap;}
    .unit{
      min-width:92px; padding:12px 12px; border-radius:14px;
      background:rgba(0,0,0,.25); border:1px solid rgba(255,255,255,.10);
    }
    .num{font-size:20px; font-family:var(--mono); color:var(--gold2)}
    .lbl{font-size:12px; color:var(--muted); margin-top:4px}

    /* Tabs */
    .tabs{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 0}
    .tab{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--muted);
      border-radius:999px;
      padding:8px 10px;
      font-size:12.5px;
      cursor:pointer;
    }
    .tab[aria-selected="true"]{
      color:var(--text);
      border-color:rgba(216,178,90,.35);
      background:rgba(216,178,90,.10);
    }
    .panel{display:none}
    .panel.active{display:block}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px 8px;border-bottom:1px solid rgba(255,255,255,.10);text-align:left;font-size:13.5px}
    th{color:rgba(255,255,255,.78);font-family:var(--mono);font-size:12px;letter-spacing:.10em;text-transform:uppercase}
    .pill2{display:inline-flex;gap:8px;align-items:center;border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.22);padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted)}
    .yt{aspect-ratio:16/9;width:100%;border:0;border-radius:16px;background:#000}

    /* Gallery */
    .gallery{display:grid; grid-template-columns:repeat(3, 1fr); gap:10px}
    @media (max-width: 900px){.gallery{grid-template-columns:repeat(2, 1fr)}}
    @media (max-width: 520px){.gallery{grid-template-columns:1fr}}
    .gitem{
      border-radius:16px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      position:relative;
      min-height:170px;
    }
    .gitem img{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.05) contrast(1.05)}
    .gcap{
      position:absolute; left:10px; right:10px; bottom:10px;
      padding:8px 10px; border-radius:14px;
      background:rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.12);
      font-size:12.5px; color:rgba(255,255,255,.86);
      backdrop-filter: blur(8px);
    }

    footer{margin-top:16px;color:var(--muted);font-size:12.5px;line-height:1.6;text-align:center}
    footer a{color:rgba(255,255,255,.78)}
    .sep{opacity:.35; padding:0 8px}
  </style>
</head>
<body>
  <div class="grain"></div>

  <div class="wrap">
    <div class="topbar">
      <a class="brand" href="#top" aria-label="Mafia Kiel">
        <div class="logo">K</div>
        <div>
          <h1>–ú–∞—Ñ–∏—è –ö–∏–ª—å ¬∑ <span style="color:var(--gold2)">Mafia Kiel</span></h1>
          <p>–ê–Ω–æ–Ω—Å—ã ¬∑ —Ç—É—Ä–Ω–∏—Ä—ã ¬∑ —Ä–µ–π—Ç–∏–Ω–≥ ¬∑ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ</p>
        </div>
      </a>
      <div class="pillrow">
        <div class="pill"><span class="dot"></span> Brahmsweg 17 ¬∑ 24159 Kiel</div>
        <div class="pill"><span class="dot red"></span> –¢–µ–º—ã & Dress code</div>
      </div>
    </div>

    <section class="hero" id="top">
      <div class="kicker"><span class="mark"></span> Kieler Mafia Club</div>
      <h2>–ò–≥—Ä–∞–π –∫—Ä–∞—Å–∏–≤–æ. <span>–î—É–º–∞–π –≥–ª—É–±–∂–µ.</span></h2>
      <p>
        –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–∞—Ñ–∏—è –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º üá©üá™
        –ù–æ–≤–∏—á–∫–∞–º ‚Äî –≤–≤–æ–¥–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å. –•–æ—á–µ—à—å –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –∏–≥—Ä—É –∏–ª–∏ —Ç—É—Ä–Ω–∏—Ä? –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –∏–ª–∏ –ø–∏—à–∏ –≤ DM.
      </p>

      <div class="ctas">
        <a class="btn primary" id="btnSignup" href="#"><span>üïµÔ∏è</span> –ó–∞–ø–∏—Å–∞—Ç—å—Å—è</a>
        <a class="btn" id="btnIG" href="#" target="_blank" rel="noopener"><span>üì∏</span> Instagram</a>
        <a class="btn" href="#announcements"><span>üìÖ</span> –ê–Ω–æ–Ω—Å—ã</a>
        <a class="btn" href="#hub"><span>üèÜ</span> –†–µ–π—Ç–∏–Ω–≥ / –¢—É—Ä–Ω–∏—Ä—ã</a>
      </div>
    </section>

    <section class="grid">
      <div class="card" id="announcements">
        <h3>–ê–Ω–æ–Ω—Å—ã –±–ª–∏–∂–∞–π—à–∏—Ö –∏–≥—Ä</h3>
        <p class="sub">–ö–Ω–æ–ø–∫–∞ ‚ÄúAdd to Calendar‚Äù –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å. –ó–∞–ø–∏—Å—å ‚Äî —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –∏–ª–∏ DM.</p>
        <div class="events" id="events"></div>
      </div>

      <div class="card">
        <h3>–î–æ —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä—ã</h3>
        <div class="countwrap">
          <div class="counttitle">
            <span id="nextLabel">–°–ª–µ–¥—É—é—â–∞—è –∏–≥—Ä–∞: ‚Äî</span>
            <span id="nextMeta">‚Äî</span>
          </div>
          <div class="count">
            <div class="unit"><div class="num" id="d">--</div><div class="lbl">–¥–Ω–µ–π</div></div>
            <div class="unit"><div class="num" id="h">--</div><div class="lbl">—á–∞—Å–æ–≤</div></div>
            <div class="unit"><div class="num" id="m">--</div><div class="lbl">–º–∏–Ω</div></div>
            <div class="unit"><div class="num" id="s">--</div><div class="lbl">—Å–µ–∫</div></div>
          </div>
        </div>

        <div style="height:12px"></div>

        <h3>–†–æ–ª—å –¥–Ω—è üé≠</h3>
        <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10)">
          <div style="font-family:var(--mono);font-size:18px;color:var(--gold2)" id="role">–ù–∞–∂–º–∏ ‚Äú–í—ã–ø–∞–¥–∫–æ–≤–∞—è —Ä–æ–ª—å‚Äù</div>
          <p class="sub" style="margin-top:10px">–§–∞–Ω–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã (–Ω–µ —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥ —Ä–æ–ª–µ–π üòâ).</p>
          <button class="btn mini" id="btnRole" type="button">üé≤ –í–∏–ø–∞–¥–∫–æ–≤–∞—è —Ä–æ–ª—å</button>
        </div>
      </div>
    </section>

    <section class="card" style="margin-top:12px">
      <h3>–§–æ—Ç–æ–æ—Ç—á–µ—Ç—ã</h3>
      <p class="sub"> https://www.instagram.com/p/DUyP-TADaGV/?igsh=MWlhZXU2YXE4cXFiYg==
https://www.instagram.com/p/DP7QW1BDD-4/?igsh=OWpucnZidnFpZWRh
https://www.instagram.com/p/DUdPFrajfEd/?igsh=MTlxcjNmazh3dWRkNQ==
https://www.instagram.com/p/DQWTfb7DUG6/?igsh=MTA3aHo0Z3ExbHFuYQ==.</p>
      <div class="gallery" id="gallery"></div>
    </section>

    <section class="card" id="hub" style="margin-top:12px">
      <div class="row" style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center">
        <h3 style="margin:0">–ö–ª—É–±–Ω—ã–π Hub</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <a class="btn" id="btnReg" href="#" target="_blank" rel="noopener">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
          <a class="btn" href="#media">üé¨ –í–∏–¥–µ–æ</a>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="Hub tabs">
        <button class="tab" role="tab" aria-selected="true" data-tab="rank">–†–µ–π—Ç–∏–Ω–≥</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="tours">–¢—É—Ä–Ω–∏—Ä—ã</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="players">–ò–≥—Ä–æ–∫–∏</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="bday">–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è</button>
      </div>

      <div class="panel active" id="rank" role="tabpanel">
        <p class="sub">–†–µ–π—Ç–∏–Ω–≥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ç—É—Ä–Ω–∏—Ä–∞–º —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞ (–º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É–ª—É).</p>
        <table id="rankTable"></table>
      </div>

      <div class="panel" id="tours" role="tabpanel">
        <div id="tournaments"></div>
      </div>

      <div class="panel" id="players" role="tabpanel">
        <p class="sub">–ö–ª–∏–∫–Ω–∏ –Ω–∞ –∏–≥—Ä–æ–∫–∞ ‚Äî –ø–æ–∫–∞–∂–µ–º —É—á–∞—Å—Ç–∏–µ –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö —ç—Ç–æ–≥–æ –≥–æ–¥–∞ –∏ –ø—Ä–∏–∑–æ–≤—ã–µ.</p>
        <div style="display:grid;grid-template-columns:1.1fr .9fr;gap:12px">
          <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10)">
            <table id="playersTable"></table>
          </div>
          <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10)">
            <h3 style="margin:0 0 8px;font-size:15px" id="pTitle">–í—ã–±–µ—Ä–∏ –∏–≥—Ä–æ–∫–∞</h3>
            <div class="sub" id="pBody">–ü–æ–∫–∞–∂–µ–º —Ç—É—Ä–Ω–∏—Ä—ã, –º–µ—Å—Ç–∞ –∏ –ø—Ä–∏–∑–æ–≤—ã–µ –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥.</div>
          </div>
        </div>
      </div>

      <div class="panel" id="bday" role="tabpanel">
        <p class="sub">–ë–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è ‚Äî —Å–≤–µ—Ä—Ö—É.</p>
        <table id="bdayTable"></table>
      </div>
    </section>

    <section class="card" id="media" style="margin-top:12px">
      <h3>–í–∏–¥–µ–æ / —Å—Å—ã–ª–∫–∏</h3>
      <p class="sub">–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å YouTube –∏–ª–∏ –¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ Reels/–ø–æ—Å—Ç—ã.</p>
      <div id="mediaList"></div>
    </section>

    <footer>
      <div>
        DM: <a href="https://instagram.com/oksana_kolivanova" target="_blank" rel="noopener">@oksana_kolivanova</a>
        <span class="sep">¬∑</span>
        <a href="https://instagram.com/oksanashvetsukr" target="_blank" rel="noopener">@oksanashvetsukr</a>
        <span class="sep">¬∑</span>
        <a href="https://instagram.com/kieler.mafia.club" target="_blank" rel="noopener">@kieler.mafia.club</a>
      </div>
      <div style="margin-top:6px">¬© <span id="year"></span> Mafia Kiel ¬∑ made with üñ§</div>
    </footer>
  </div>

  <script>
    // =========================
    // EDIT: LINKS / SETTINGS
    // =========================
    const CLUB = {
      instagram: "https://instagram.com/kieler.mafia.club",
      registration: "https://forms.gle/–í–ê–®_–ì–£–ì–õ_–§–û–†–ú", // <- –≤—Å—Ç–∞–≤ —Å—é–¥–∏ Google Form
      email: "kieler.mafia.club@gmail.com",
      location: "Brahmsweg 17, 24159 Kiel"
    };

    // =========================
    // EDIT: EVENTS (–∞–Ω–æ–Ω—Å—ã)
    // =========================
    const EVENTS = [
      {
        title: "MAFIA FRIDAY 13 ¬∑ TOTAL BLACK DRESS CODE",
        dateTime: "2026-03-13T18:30:00+01:00",
        warmup: "17:30 –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å",
        game: "18:30 –∏–≥—Ä—ã",
        price: "–ü–µ—Ä–≤—ã–π –≤–µ—á–µ—Ä ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ",
        place: CLUB.location,
        dress: "Total Black",
        tags: ["dresscode"],
      },
      {
        title: "Friday Mafia Night",
        dateTime: "2026-03-20T18:30:00+01:00",
        warmup: "17:30 –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤",
        game: "18:30 –∏–≥—Ä—ã",
        price: "–£—Ç–æ—á–Ω—è–π –≤ DM",
        place: CLUB.location,
        dress: "Free style",
        tags: ["regular"],
      }
    ];

    // =========================
    // EDIT: GALLERY (—Ñ–æ—Ç–æ)
    // –í—Å—Ç–∞–≤–ª—è–π –ø—Ä—è–º—ñ URL –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏
    // =========================
    const GALLERY = [
      { img:"https://images.unsplash.com/photo-1520975916090-3105956dac38?auto=format&fit=crop&w=1200&q=60", cap:"Friday night ¬∑ aftergame" },
      { img:"https://images.unsplash.com/photo-1520975741355-89e2e0cbf8d6?auto=format&fit=crop&w=1200&q=60", cap:"–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–µ—á–µ—Ä ¬∑ Total Black" },
      { img:"https://images.unsplash.com/photo-1520975940024-7b87f84d888a?auto=format&fit=crop&w=1200&q=60", cap:"–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤" },
      { img:"https://images.unsplash.com/photo-1520975891848-0f1d4c2f2e1b?auto=format&fit=crop&w=1200&q=60", cap:"–¢—É—Ä–Ω–∏—Ä–Ω—ã–π —Å—Ç–æ–ª" },
      { img:"https://images.unsplash.com/photo-1515162305281-9f9d4b2b2b15?auto=format&fit=crop&w=1200&q=60", cap:"–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –Ω–µ–¥–µ–ª–∏" },
      { img:"https://images.unsplash.com/photo-1520975803013-3b5d2b5c1cbb?auto=format&fit=crop&w=1200&q=60", cap:"–ö–ª—É–±–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞" },
    ];

    // =========================
    // EDIT: DATA HUB (—Ç—É—Ä–Ω–∏—Ä—ã/–∏–≥—Ä–æ–∫–∏/–º–µ–¥–∏–∞)
    // =========================
    const DATA = {
      tournaments: [
        {
          name:"Spring Tournament #1",
          date:"2026-03-20",
          link:"", // —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç/—Ä–µ–ø–æ—Ä—Ç
          participants:[
            {nick:"foxxy", place:1, prize:50},
            {nick:"an.krsh", place:2, prize:30},
            {nick:"yalemonchik", place:3, prize:20},
          ]
        }
      ],
      players: [
        { nick:"foxxy", birthday:"2000-05-12" },
        { nick:"an.krsh", birthday:"1998-10-02" },
        { nick:"yalemonchik", birthday:"1997-02-14" },
      ],
      media: [
        { type:"youtube", title:"–õ—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã", url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ" },
        { type:"link", title:"Instagram Reels", url:"https://instagram.com/kieler.mafia.club" },
      ]
    };

    // =========================
    // Helpers
    // =========================
    const $ = (id)=>document.getElementById(id);
    function fmtDateTime(iso){
      const d = new Date(iso);
      return d.toLocaleString(undefined,{weekday:"short", year:"numeric", month:"short", day:"2-digit", hour:"2-digit", minute:"2-digit"});
    }
    function fmtDate(ymd){
      const d = new Date(ymd+"T12:00:00");
      return d.toLocaleDateString(undefined,{year:"numeric", month:"short", day:"2-digit"});
    }
    function buildICS(ev){
      const start = new Date(ev.dateTime);
      const end = new Date(start.getTime() + 3*60*60*1000);
      const pad = (n)=> String(n).padStart(2,"0");
      const toICS = (d)=>{
        const u = new Date(d.getTime() - d.getTimezoneOffset()*60000);
        return `${u.getUTCFullYear()}${pad(u.getUTCMonth()+1)}${pad(u.getUTCDate())}T${pad(u.getUTCHours())}${pad(u.getUTCMinutes())}${pad(u.getUTCSeconds())}Z`;
      };
      const uid = `mafia-kiel-${start.getTime()}@mafiakiel`;
      const title = ev.title.replace(/[,;]/g," ");
      const loc = (ev.place || "").replace(/[,;]/g," ");
      const desc = [ev.warmup||"", ev.game||"", ev.price?`–¶–µ–Ω–∞: ${ev.price}`:"", ev.dress?`Dress code: ${ev.dress}`:"", "–ó–∞–ø–∏—Å—å: DM/–§–æ—Ä–º–∞"].filter(Boolean).join("\\n");
      const ics =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Mafia Kiel//Events//RU
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${uid}
DTSTAMP:${toICS(new Date())}
DTSTART:${toICS(start)}
DTEND:${toICS(end)}
SUMMARY:${title}
LOCATION:${loc}
DESCRIPTION:${desc}
END:VEVENT
END:VCALENDAR`;
      return "data:text/calendar;charset=utf-8," + encodeURIComponent(ics);
    }

    // Header links
    $("btnIG").href = CLUB.instagram;
    $("btnReg").href = CLUB.registration;

    // Signup action
    function signup(){
      const subject = encodeURIComponent("–ó–∞–ø–∏—Å—å –Ω–∞ –º–∞—Ñ–∏—é ¬∑ Mafia Kiel");
      const body = encodeURIComponent("–ü—Ä–∏–≤–µ—Ç! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –º–∞—Ñ–∏—é.\n–î–∞—Ç–∞/—Ç–µ–º–∞: ____\n–ò–º—è: ____\n–°–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π: ____\n\n–õ–æ–∫–∞—Ü–∏—è: "+CLUB.location+"\nInstagram: "+CLUB.instagram);
      const mailto = `mailto:${CLUB.email}?subject=${subject}&body=${body}`;
      const msg = `–ó–∞–ø–∏—Å—å:\n1) –ß–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É: ${CLUB.registration}\n2) –ß–µ—Ä–µ–∑ DM: ${CLUB.instagram}\n3) –ß–µ—Ä–µ–∑ Email: ${CLUB.email}\n\n–ù–∞–∂–º–∏ OK ‚Äî –æ—Ç–∫—Ä–æ—é Email.`;
      if(confirm(msg)) window.location.href = mailto;
    }
    $("btnSignup").addEventListener("click",(e)=>{e.preventDefault(); signup();});

    // Render events + next event for countdown
    const $events = $("events");
    function renderEvents(){
      $events.innerHTML = "";
      const sorted = [...EVENTS].sort((a,b)=> new Date(a.dateTime)-new Date(b.dateTime));
      sorted.forEach(ev=>{
        const badge = ev.tags?.includes("dresscode")
          ? `<span class="badge red">DRESS CODE</span>`
          : `<span class="badge">FRIDAY</span>`;
        const dress = ev.dress && ev.dress.toLowerCase().includes("black")
          ? `<span class="badge red">TOTAL BLACK</span>`
          : (ev.dress ? `<span class="badge">${ev.dress}</span>` : "");
        const icsHref = buildICS(ev);

        const el = document.createElement("div");
        el.className = "event";
        el.innerHTML = `
          <div>
            <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center">${badge} ${dress}</div>
            <div style="margin-top:8px">
              <strong>${ev.title}</strong>
              <div class="meta">
                <div>üóìÔ∏è ${fmtDateTime(ev.dateTime)}</div>
                <div>üïò ${ev.warmup || ""} ${ev.game ? " ¬∑ " + ev.game : ""}</div>
                <div>üìç ${ev.place || "Kiel"}</div>
                ${ev.price ? `<div>üí∂ ${ev.price}</div>` : ""}
              </div>
            </div>
          </div>
          <div class="actions">
            <a class="btn mini primary" href="${CLUB.registration}" target="_blank" rel="noopener">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            <a class="btn mini" href="${icsHref}" download="mafia-kiel.ics">‚ûï Add to Calendar</a>
          </div>
        `;
        $events.appendChild(el);
      });
      setNext(sorted);
    }

    function setNext(sorted){
      const now = new Date();
      const next = sorted.find(ev => new Date(ev.dateTime) > now) || sorted[0];
      window.__NEXT = next;
      $("nextLabel").textContent = next ? `–°–ª–µ–¥—É—é—â–∞—è –∏–≥—Ä–∞: ${next.title}` : "–°–ª–µ–¥—É—é—â–∞—è –∏–≥—Ä–∞: ‚Äî";
      $("nextMeta").textContent  = next ? fmtDateTime(next.dateTime) : "‚Äî";
    }

    function tick(){
      const next = window.__NEXT;
      if(!next) return;
      const now = new Date().getTime();
      const target = new Date(next.dateTime).getTime();
      let diff = Math.max(0, target - now);

      const d = Math.floor(diff / (1000*60*60*24)); diff -= d*(1000*60*60*24);
      const h = Math.floor(diff / (1000*60*60)); diff -= h*(1000*60*60);
      const m = Math.floor(diff / (1000*60)); diff -= m*(1000*60);
      const s = Math.floor(diff / 1000);

      $("d").textContent = String(d).padStart(2,"0");
      $("h").textContent = String(h).padStart(2,"0");
      $("m").textContent = String(m).padStart(2,"0");
      $("s").textContent = String(s).padStart(2,"0");
    }

    // Role randomizer
    const ROLES = [
      {name:"–ú–∏—Ä–Ω—ã–π –∂–∏—Ç–µ–ª—å", hint:"–ù–∞–±–ª—é–¥–∞–π, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π, –≥–æ–ª–æ—Å—É–π."},
      {name:"–ú–∞—Ñ–∏—è", hint:"–î–µ—Ä–∂–∏ –ª–∏–Ω–∏—é –∏ –Ω–µ –ø–∞–ª–∏—Å—å üòÑ"},
      {name:"–®–µ—Ä–∏—Ñ", hint:"–ò—â–∏ –ø—Ä–∞–≤–¥—É –≤–æ–ø—Ä–æ—Å–∞–º–∏."},
      {name:"–î–æ–Ω", hint:"–ö–µ—Ä—É–µ—à—å –º–∞—Ñ–∏–µ–π ‚Äî —Ç–∏—Ö–æ."},
      {name:"–î–æ–∫—Ç–æ—Ä", hint:"–°–ø–∞—Å–∞–π –≥–æ—Ä–æ–¥ (–µ—Å–ª–∏ —Ä–æ–ª—å –µ—Å—Ç—å)."},
    ];
    $("btnRole").addEventListener("click", ()=>{
      const r = ROLES[Math.floor(Math.random()*ROLES.length)];
      $("role").textContent = `${r.name} ‚Äî ${r.hint}`;
    });

    // Gallery
    const $g = $("gallery");
    $g.innerHTML = GALLERY.map(x=>`
      <div class="gitem">
        <img src="${x.img}" alt="">
        <div class="gcap">${x.cap || ""}</div>
      </div>
    `).join("");

    // Hub tabs
    const tabs = Array.from(document.querySelectorAll(".tab"));
    const panels = Array.from(document.querySelectorAll(".panel"));
    tabs.forEach(t=>{
      t.addEventListener("click", ()=>{
        tabs.forEach(x=>x.setAttribute("aria-selected","false"));
        t.setAttribute("aria-selected","true");
        const id = t.dataset.tab;
        panels.forEach(p=>p.classList.toggle("active", p.id===id));
      });
    });

    // Ranking from tournaments current year
    const now = new Date();
    const currentYear = now.getFullYear();
    const scoreByPlace = (p)=> p===1?10 : p===2?7 : p===3?5 : 2;
    const stats = new Map(); // nick -> {nick, points, wins, prize, played, tours[]}
    function addStat(nick, updater){
      if(!stats.has(nick)) stats.set(nick, {nick, points:0, wins:0, prize:0, played:0, tours:[]});
      updater(stats.get(nick));
    }
    DATA.tournaments.forEach(t=>{
      const year = new Date(t.date+"T12:00:00").getFullYear();
      if(year !== currentYear) return;
      (t.participants||[]).forEach(p=>{
        addStat(p.nick, s=>{
          s.played += 1;
          s.points += scoreByPlace(p.place);
          s.prize += Number(p.prize||0);
          if(p.place===1) s.wins += 1;
          s.tours.push({tournament:t.name, date:t.date, place:p.place, prize:p.prize||0});
        });
      });
    });
    const rankArr = Array.from(stats.values()).sort((a,b)=> (b.points-a.points) || (b.prize-a.prize) || (b.wins-a.wins));
    $("rankTable").innerHTML = `
      <thead><tr><th>#</th><th>–ù–∏–∫</th><th>–û—á–∫–∏</th><th>–ü–æ–±–µ–¥—ã</th><th>–¢—É—Ä–Ω–∏—Ä–æ–≤</th><th>–ü—Ä–∏–∑–æ–≤—ã–µ</th></tr></thead>
      <tbody>
        ${rankArr.length? rankArr.map((r,i)=>`
          <tr><td>${i+1}</td><td><b>${r.nick}</b></td><td>${r.points}</td><td>${r.wins}</td><td>${r.played}</td><td>${r.prize}‚Ç¨</td></tr>
        `).join("") : `<tr><td colspan="6" style="color:var(--muted)">–ù–µ—Ç —Ç—É—Ä–Ω–∏—Ä–æ–≤ –≤ ${currentYear} (–∏–ª–∏ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —É—á–∞—Å—Ç–Ω–∏–∫–∏).</td></tr>`}
      </tbody>
    `;

    // Tournaments view
    const toursSorted = [...DATA.tournaments].sort((a,b)=> new Date(b.date)-new Date(a.date));
    $("tournaments").innerHTML = toursSorted.map(t=>{
      const parts = (t.participants||[]).sort((a,b)=> (a.place||999)-(b.place||999));
      return `
        <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10);margin-top:10px">
          <div style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center">
            <div>
              <div style="font-family:var(--mono);font-size:12px;letter-spacing:.10em;text-transform:uppercase;color:rgba(255,255,255,.70)">${fmtDate(t.date)}</div>
              <div style="margin-top:6px;font-size:15px"><b>${t.name}</b></div>
              <div class="sub">${t.link ? `–û—Ç—á–µ—Ç: <a href="${t.link}" target="_blank" rel="noopener" style="color:rgba(255,255,255,.78)">—Å—Å—ã–ª–∫–∞</a>` : ""}</div>
            </div>
            <span class="pill2"><span class="dot"></span> –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: ${parts.length}</span>
          </div>
          <table>
            <thead><tr><th>–ú–µ—Å—Ç–æ</th><th>–ù–∏–∫</th><th>–ü—Ä–∏–∑</th></tr></thead>
            <tbody>
              ${parts.length? parts.map(p=>`
                <tr><td>${p.place||""}</td><td><b>${p.nick}</b></td><td>${p.prize? p.prize+"‚Ç¨":"‚Äî"}</td></tr>
              `).join("") : `<tr><td colspan="3" style="color:var(--muted)">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º.</td></tr>`}
            </tbody>
          </table>
        </div>
      `;
    }).join("");

    // Players + profile
    const players = [...DATA.players].sort((a,b)=> a.nick.localeCompare(b.nick));
    $("playersTable").innerHTML = `
      <thead><tr><th>–ù–∏–∫</th><th>–¢—É—Ä–Ω–∏—Ä—ã ${currentYear}</th><th>–ü—Ä–∏–∑–æ–≤—ã–µ</th></tr></thead>
      <tbody>
        ${players.map(p=>{
          const st = stats.get(p.nick);
          const played = st?.played || 0;
          const prize  = st?.prize || 0;
          return `<tr data-nick="${p.nick}" style="cursor:pointer">
            <td><b>${p.nick}</b></td><td>${played}</td><td>${prize}‚Ç¨</td>
          </tr>`;
        }).join("")}
      </tbody>
    `;
    $("playersTable").addEventListener("click",(e)=>{
      const tr = e.target.closest("tr[data-nick]");
      if(!tr) return;
      const nick = tr.dataset.nick;
      const st = stats.get(nick);
      $("pTitle").textContent = `@${nick}`;
      if(!st){
        $("pBody").innerHTML = `<div class="sub">–í ${currentYear} –ø–æ–∫–∞ –Ω–µ—Ç —Ç—É—Ä–Ω–∏—Ä–æ–≤/—É—á–∞—Å—Ç–∏–π –¥–ª—è —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞.</div>`;
        return;
      }
      const list = st.tours.sort((a,b)=> new Date(b.date)-new Date(a.date))
        .map(x=>`<li>${fmtDate(x.date)} ¬∑ <b>${x.tournament}</b> ‚Äî –º–µ—Å—Ç–æ: ${x.place||"‚Äî"}, –ø—Ä–∏–∑: ${x.prize||0}‚Ç¨</li>`).join("");
      $("pBody").innerHTML = `
        <div class="sub">–û—á–∫–∏: <b>${st.points}</b> ¬∑ –ü–æ–±–µ–¥—ã: <b>${st.wins}</b> ¬∑ –¢—É—Ä–Ω–∏—Ä–æ–≤: <b>${st.played}</b> ¬∑ –ü—Ä–∏–∑–æ–≤—ã–µ: <b>${st.prize}‚Ç¨</b></div>
        <div style="height:10px"></div>
        <ul class="sub" style="margin:0;padding-left:18px;line-height:1.7">${list}</ul>
      `;
    });

    // Birthdays
    function nextBirthday(bday){
      const d0 = new Date(bday+"T12:00:00");
      const now = new Date();
      const d = new Date(now.getFullYear(), d0.getMonth(), d0.getDate(), 12,0,0);
      if(d < now) d.setFullYear(now.getFullYear()+1);
      return d;
    }
    const bdays = DATA.players.filter(p=>p.birthday)
      .map(p=>({nick:p.nick, birthday:p.birthday, next: nextBirthday(p.birthday)}))
      .sort((a,b)=> a.next - b.next);
    $("bdayTable").innerHTML = `
      <thead><tr><th>–ù–∏–∫</th><th>–î–†</th><th>–ë–ª–∏–∂–∞–π—à–∏–π</th></tr></thead>
      <tbody>
        ${bdays.length? bdays.map(x=>`
          <tr><td><b>${x.nick}</b></td><td>${fmtDate(x.birthday)}</td><td>${x.next.toLocaleDateString(undefined,{month:"short", day:"2-digit"})}</td></tr>
        `).join("") : `<tr><td colspan="3" style="color:var(--muted)">–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã.</td></tr>`}
      </tbody>
    `;

    // Media
    function ytEmbed(url){
      const u = new URL(url);
      const id = u.searchParams.get("v") || (u.pathname.split("/").pop());
      return `https://www.youtube.com/embed/${id}`;
    }
    $("mediaList").innerHTML = DATA.media.map(m=>{
      if(m.type==="youtube"){
        return `
          <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10);margin-top:10px">
            <div style="font-size:14px"><b>${m.title}</b></div>
            <div style="height:10px"></div>
            <iframe class="yt" src="${ytEmbed(m.url)}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>
        `;
      }
      return `
        <div class="card" style="box-shadow:none;border-color:rgba(255,255,255,.10);margin-top:10px">
          <div style="font-size:14px"><b>${m.title}</b></div>
          <div class="sub"><a href="${m.url}" target="_blank" rel="noopener" style="color:rgba(255,255,255,.78)">${m.url}</a></div>
        </div>
      `;
    }).join("");

    // Init
    document.getElementById("year").textContent = new Date().getFullYear();
    renderEvents();
    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>
